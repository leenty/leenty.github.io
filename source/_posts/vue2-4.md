---
title: vue2.0ä¸€èµ·åœ¨æ‡µé€¼çš„æµ·æ´‹é‡Œè¶Šé™·è¶Šæ·±ï¼ˆå››ï¼‰
date: 2016-12-04 20:35:32
tags: [vueJs, vuex]
---
### å‰è¨€
æ‰¿æ¥ä¸Šæ–‡[vue2.0ä¸€èµ·åœ¨æ‡µé€¼çš„æµ·æ´‹é‡Œè¶Šé™·è¶Šæ·±ï¼ˆä¸‰ï¼‰](/2016/11/27/vue2-3/)
å‰é¢ä¸€ç¯‡è®²äº†vue-routerçš„`router-link`,
æœ‰è¯»è€…è¯´å¸Œæœ›èƒ½å…ˆçœ‹åˆ°vuexçš„æ–‡ç« 
å…¶å®vuexåœ¨æˆ‘çš„vue2.0çš„demoé‡Œå·²ç»åœ¨ä½¿ç”¨äº†
æƒ³æƒ³ç¡®å®åº”è¯¥å…ˆæ¥ç‚¹vuexçš„äº†ï¼Œå› ä¸ºæœ‰äº›æœ‰å…³çš„çŠ¶æ€ç®¡ç†æ€¥éœ€vuexçš„åŠ å…¥
å¥½ï¼Œé‚£ä¹ˆè¿™æ¬¡å°±å…ˆä¸Švuexå§ï¼

### æ­£æ–‡
OKï¼å…ˆä»‹ç»ä¸‹vuex
vuexæ˜¯vuejsçš„çŠ¶æ€ç®¡ç†æ–¹æ¡ˆ
å› ä¸ºvuexæœ‰äº›å¤æ‚ï¼Œä¸€èˆ¬åº”ç”¨åœ¨è¾ƒå¤æ‚çš„çŠ¶æ€ç¯å¢ƒä¸‹ï¼Œå¦‚æœæ˜¯æ¯”è¾ƒç®€å•çš„åº”ç”¨å°±ä¸éœ€è¦å®‰è£…vuexäº†
#### vuexå•å‘æ•°æ®æµ
![vuexå•å‘æ•°æ®æµ](/img/vue/flow.png)
å¦‚ä¸Šå›¾æ‰€ç¤ºæ˜¯vuexå•å‘æ•°æ®æµçš„æµç¨‹

** æˆ‘çŸ¥é“ï¼Œå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦è¿™ç©æ„ï¼Œåˆ°è¿™å°±æ‡µé€¼äº†ï¼Œå°±åƒæˆ‘ç¬¬ä¸€æ¬¡çœ‹æ–‡æ¡£ä¸€æ · **
![vuexå•å‘æ•°æ®æµ](/img/face/mengbi3.jpg)

** ä¸‹é¢è§£é‡Šä¸‹`State` **
å‰é¢è¯´äº†vuexæ˜¯vuejsçš„çŠ¶æ€ç®¡ç†æ–¹æ¡ˆï¼Œè¿™é‡Œçš„çŠ¶æ€å°±æ˜¯å›¾ä¸­çš„`state`
åœ¨å¹³æ—¶å†™å†™å‰ç«¯çš„è¿‡ç¨‹ä¸­ï¼Œéƒ½ä¼šæ¶‰åŠåˆ°çŠ¶æ€çš„é—®é¢˜ï¼Œ
æ¯”å¦‚ä½ çœ‹åˆ°äº†ä¸€ç¯‡æ–‡ç« å†™çš„ä¸é”™ï¼Œå°±æƒ³è¦æ”¶è—ï¼Œ
ç„¶ååˆå¯¹ä½œè€…æœ‰äº›å…´è¶£ï¼Œäºæ˜¯åˆåŠ äº†å…³æ³¨ï¼Œå½“ç„¶è¿™äº›æœ€åéƒ½æ˜¯éœ€è¦å‰ç«¯æ¥è¡¨è¾¾å‡ºæ¥
è¿™é‡Œé¢å°±æ¶‰åŠäº†ä¸¤ä¸ªçŠ¶æ€å°±æ˜¯æ”¶è—ä¸å…³æ³¨
è¿™é‡Œçš„æ”¶è—ä¸å…³æ³¨æˆ‘ä»¬å¯ä»¥å°†å…¶ç”¨ä¸€ä¸ªå˜é‡æ¥è¡¨ç¤ºï¼Œå½“ç„¶å¦‚è¿™ä¸¤ç§åªå­˜åœ¨ä¸¤ä¸ªç›¸å¯¹çŠ¶æ€çš„ç”¨å¸ƒå°”å€¼(`bool`)æ¥è¡¨ç¤ºå°±å¯ä»¥äº†

** ç„¶åæ˜¯`view` **
`view`å°±æ˜¯è§†å›¾,ä¹Ÿå°±æ˜¯å‰ç«¯æ‰€å†™çš„é¡µé¢ï¼Œå‰é¢çš„`state`å°±å¯ä»¥åœ¨`view`é‡Œé¢å¾—åˆ°ä½“ç°ï¼Œå³æ˜¯ä½ çœ‹åˆ°çš„æ˜¯å¦å…³æ³¨äº†ä½œè€…

** è€Œåæ˜¯`Actions` **
`Actions`æ˜¯`View`ç”¨æ¥æ”¹å˜`State`çš„æ–¹æ³•ï¼Œé€šè¿‡æ”¹å˜`State`ä»è€Œæ”¹å˜`View`çš„æ˜¾ç¤º

è¿™ä¹ˆè¯´æœ‰äº›æŠ½è±¡ï¼Œæ‰“ä¸ªæ¯”æ–¹
å‡è®¾å­¦ç”Ÿå°æ˜ç”Ÿç—…äº†
å°æ˜è¦å‘ç­ä¸»ä»»è¯·å‡(å°æ˜å°±æ˜¯`View`ï¼Œå°æ˜æƒ³æ”¹å˜è‡ªå·±çš„æ˜¾ç¤ºçŠ¶æ€ï¼Œä»ä¸Šå­¦çŠ¶æ€å˜æˆè¯·å‡çŠ¶æ€)
äºæ˜¯å°æ˜å£å¤´å‘ç­ä¸»ä»»è¯·å‡(è¯·å‡å°±æ˜¯`Actions`ï¼Œå°æ˜é€šè¿‡è¯·å‡è¿™ä¸€ä¸ªæ–¹æ³•è¾¾åˆ°è¯·å‡çš„ç›®çš„)
ç­ä¸»ä»»æ‰¹å‡†ï¼Œå°æ˜è¯·å‡æˆåŠŸ(ç­ä¸»ä»»å°±æ˜¯`State`çš„æä¾›è€…ï¼Œå°æ˜é€šè¿‡è¯·å‡æ–¹æ³•ä½¿ç­ä¸»ä»»æ”¹å˜å°æ˜çš„`State`çŠ¶æ€)
ç€ä¹Ÿå°±è§£é‡Šäº†ä¸ºä»€ä¹ˆè¦æœ‰è¿™ä¸ªæµç¨‹ï¼Œæœ‰äº†è¿™ä¸ªæµç¨‹å°±å¯ä»¥ç»Ÿä¸€ç®¡ç†å„ä¸ª`view`çš„å„ä¸ªçŠ¶æ€

#### vuexå¤šä¸ªç»„ä»¶å…±äº«çŠ¶æ€
å…ˆè´´ä¸ªæµç¨‹å›¾ï¼Œæ‡µé€¼æ˜¯æ²¡å•¥å…³ç³»çš„
![vuexå¤šä¸ªç»„ä»¶å…±äº«çŠ¶æ€](/img/vue/vuex.png)
å¯ä»¥çœ‹åˆ°è¿™ä¸€å¼ å›¾æ¯”å‰é¢ä¸€å¼ å¤æ‚äº†è®¸å¤šï¼Œå…¶å®é‡Œé¢çš„å®çº¿æ¡†å°±æ˜¯ä¸Šå›¾çš„å‡çº§ç‰ˆ

æƒ…å†µæ˜¯è¿™æ ·ï¼ŒåŸæ¥å°æ˜å­¦æ ¡é‡Œè¿™æ®µæ—¶é—´è®¸å¤šåŒå­¦å¾—äº†æµæ„Ÿï¼Œäºæ˜¯åŒå­¦ä»¬ä¸€çªèœ‚çš„è¦æ±‚è¯·å‡ï¼Œ
å­¦æ ¡é‡Œå› ä¸ºäººå¤ªå¤šï¼Œåˆæ²¡æœ‰ä¸€ä¸ªè®°å½•ï¼Œäººæ•°æ¸…ç‚¹ä¸è¿‡æ¥äº†ï¼Œäºæ˜¯ç­ä¸»ä»»è¦æ±‚è¯·å‡å¿…é¡»æäº¤è¯·å‡æ¡

å¥½çš„ï¼Œæ¥è§£é‡Šä¸‹ä¸Šå›¾å†…çš„å®çº¿éƒ¨åˆ†ï¼Œä¹‹å‰çš„`View`åœ¨è¿™é‡Œæ”¹åæˆäº†`Vue Components`,ä»£è¡¨äº†å¤šä¸ªç»„ä»¶(è¿™é‡Œå³æ˜¯æŒ‡å¤šä¸ªåŒå­¦)
åŒ…æ‹¬å°æ˜åœ¨å†…çš„å¤šä¸ªåŒå­¦`Vue Components`éƒ½å¾—äº†æµæ„Ÿï¼Œä¸€èµ·æƒ³è¦è¯·å‡`Actions`(ä»–ä»¬å³å°†å…±äº«ä¸€ä¸ªè¯·å‡çŠ¶æ€)ï¼Œå°æ˜ä»£è¡¨å¤šä¸ªåŒå­¦å†™äº†ä¸€å¼ è¯·å‡æ¡äº¤ç»™ç­ä¸»ä»»(`State`æä¾›è€…)ç­¾å­—åŒæ„(ç­¾å­—åŒæ„è¿™ä¸ªåŠ¨ä½œå°±æ˜¯`Mutations`ï¼Œè§¦å‘äº†`State`çš„æ”¹å˜),ç­ä¸»ä»»åŒæ„åç»Ÿä¸€ç»™ä»–ä»¬æ”¹å˜äº†`State`ï¼ˆè¯·å‡æˆåŠŸï¼‰

è¿™é‡Œçš„å¤šäº†ä¸€ä¸ªåŒæ­¥ä¸å¼‚æ­¥çš„åŒºåˆ«ï¼Œå…¶ä¸­`Mutations`åªå—ç†åŒæ­¥å¤„ç†ï¼Œè€Œ`Actions`å°±æ˜¯æ‰§è¡Œå¼‚æ­¥æ“ä½œçš„å‡½æ•°ï¼Œä½œä¸ºä»£ä»·ï¼Œ`Actions`ä¸å†èƒ½ç›´æ¥è§¦å‘æ”¹å˜`State`çŠ¶æ€ï¼Œè€Œæ˜¯éœ€é€šè¿‡`Mutations`æ¥è§¦å‘`State`çš„æ”¹å˜

æƒ…å†µæ˜¯è¿™æ ·ï¼Œå› ä¸ºä¸åªæ˜¯ä¸€ä¸ªç­çš„å­¦ç”Ÿå¾—äº†æµæ„Ÿï¼Œè¯·å‡çš„äººæ¯”è¾ƒå¤šï¼Œå­¦æ ¡`Backend API`éœ€è¦åšä¸€ä¸ªç»Ÿè®¡ï¼Œäºæ˜¯è¯·å‡éœ€è¦å¾—åˆ°å­¦æ ¡ä¸“é—¨çš„è¯·å‡æ¡çš„å¹¶é€šè¿‡å­¦æ ¡ç­¾å­—æ‰èƒ½ç”Ÿæ•ˆï¼Œè¿™é‡Œå°±æœ‰äº†è™šçº¿éƒ¨åˆ†ã€‚
è¯·å‡`Actions`æ”¹å˜`State`çš„æ–¹æ³•ä¸å†æ˜¯ä»…ä»…ç­ä¸»ä»»ç­¾å­—å°±å¯ä»¥äº†ï¼Œè€Œæ˜¯éœ€è¦é€šè¿‡å­¦æ ¡è¿™ä¸ªå‰æï¼Œäºæ˜¯`Actions`å°±å˜æˆäº†ä¸€ä¸ªå¼‚æ­¥è¯·æ±‚ï¼Œéœ€è¦å¾—åˆ°å­¦æ ¡`Backend API`çš„ä¸“é—¨çš„è¯·å‡æ¡å’Œç­¾å­—åŒæ„åï¼Œæ‰èƒ½å‘ç­ä¸»ä»»æäº¤æ”¹å˜`State`çš„ç”³è¯·

è¿™é‡Œæƒ³è¦è¡¨è¾¾çš„æ„æ€å°±æ˜¯ï¼Œ`Vue Components`æ”¹å˜è‡ªèº«çŠ¶æ€éœ€è¦é€šè¿‡`Actions`ï¼ˆæœ‰éœ€è¦çš„è¯è¦å‘åç«¯æ¥å£`Backend API`å‘é€è¯·æ±‚ï¼‰æ¥æ“ä½œ`Mutations`æ”¹å˜`State`ä»è€Œæ”¹å˜è‡ªèº«çŠ¶æ€ã€‚
è‡³äºå›¾ä¸­æ²¡æœ‰è¯´åˆ°çš„`Devtools`æ˜¯ä¸€ä¸ªå¼€å‘è€…å·¥å…·ï¼Œæ˜¯ä¸€ä¸ªä¾¿äºæŸ¥çœ‹å’Œç®¡ç†vueåº”ç”¨ä»¥åŠvuexçŠ¶æ€çš„æµè§ˆå™¨æ’ä»¶ã€‚
ä½ å¯ä»¥åœ¨é‡Œé¢çœ‹åˆ°ä½ vueå¯¹è±¡å’Œvuexæ¯ä¸€æ¬¡çš„commitï¼Œcommitåé¢ä¼šè¯´åˆ°ã€‚è¿˜æœ‰ä½ å½“å‰çš„åº”ç”¨çŠ¶æ€
![devtools](/img/vue/devtools.png)
é™„ä¸Šä¸€ä¸ª[devtoolsåº“åœ°å€](https://github.com/vuejs/vue-devtools)

#### æ¶æ„vuex
é¡¹ç›®ç»“æ„ï¼š
```
â”œâ”€â”€ main.js
â”œâ”€â”€ App.vue
â”œâ”€â”€ components
â”‚   â”œâ”€â”€ Home.vue
â”‚   â””â”€â”€ ...
â””â”€â”€ store
    â”œâ”€â”€ index.js          # ç»„è£…æ¨¡å—å¹¶å¯¼å‡º store çš„åœ°æ–¹
    â”œâ”€â”€ actions.js        # æ ¹çº§åˆ«çš„ action
    â”œâ”€â”€ mutations.js      # æ ¹çº§åˆ«çš„ mutation
    â”œâ”€â”€ types.js          # mutationå‘½åç©ºé—´
    â””â”€â”€ modules
        â”œâ”€â”€ demo.js       # demoæ¨¡å—
        â””â”€â”€ status.js     # å…¨å±€åº”ç”¨çŠ¶æ€æ¨¡å—
```
ç»“æ„å¯ä»¥æ ¹æ®ä¸ªäººéœ€è¦è¿›è¡Œè°ƒæ•´

** ä¸‹é¢å¼€å§‹æ„å»º`store/index.js` **
å½“ç„¶åœ¨è¿™ä¹‹å‰ï¼Œå¦‚æœæ²¡æœ‰å®‰è£…vuexçš„éœ€è¦å…ˆå®‰è£…
```shell
npm i vuex -S
```
ç”±äºvuexçš„å†…å®¹å¤ªå¤šï¼Œè¿™é‡Œå…ˆè¯´åŸºç¡€ç”¨æ³•
é¦–å…ˆä¸º`store/index.js`ç¼–å†™å†…å®¹
```js
import Vue from 'vue'
// å¯¼å…¥vue
import Vuex from 'vuex'
// å¯¼å…¥vuex

import status from './modules/status'
// å¯¼å…¥statusæ¨¡å—ï¼ˆè¿™æ˜¯æˆ‘ç®¡ç†å…¨å±€åº”ç”¨çŠ¶æ€çš„æ¨¡å—ï¼‰
import demo from './modules/demo'
// å¯¼å…¥demoæ¨¡å—ï¼ˆè¿™ä¸ªçš„éƒ¨åˆ†æ¼”ç¤ºå¯ä»¥åœ¨http://vue2.leenty.com/demo/vuex_state/é‡Œçœ‹åˆ°ï¼‰

Vue.use(Vuex)
// å‘Šè¯‰vueå°†è¦ä½¿ç”¨vuex

const debug = process.env.NODE_ENV !== 'production'
// envé‡Œå»è·å–å½“å‰çš„ç¯å¢ƒæ˜¯å¦éœ€è¦å¼€å¯ä¸¥æ ¼æ¨¡å¼
// åœ¨å‘å¸ƒç¯å¢ƒå¼€å¯ä¸¥æ ¼æ¨¡å¼ä¼šé€ æˆæ€§èƒ½ä¸Šä¸å¿…è¦çš„æŸå¤±

export default new Vuex.Store({
// é»˜è®¤å¯¼å‡ºvuexæ¨¡å—
  modules: {
  // å¯¼å…¥æ¨¡å—
    status,
    demo
  },
  strict: debug
  // æ˜¯å¦å¼€å¯ä¸¥æ ¼æ¨¡å¼
})
```

** æ„å»ºstateæ¨¡å— **
è¿™é‡Œä»¥`demo.js`ä¸ºä¾‹

```js
import * as types from '../types'
// å¯¼å…¥mutationsçš„å‘½åç©ºé—´

const state = {
// å®šä¹‰state
  demoFollow: false,
  // è¿™é‡Œæ¨¡æ‹Ÿçš„æ˜¯å…³æ³¨çš„çŠ¶æ€ï¼Œå¸ƒå°”å€¼è¡¨ç¤ºæ˜¯å¦å…³æ³¨
  demoFollowPending: false
  // æ˜¯å¦åœ¨è¯·æ±‚ä¸­(actionsæ˜¯å¦åœ¨æ‰§è¡Œå¼‚æ­¥æ“ä½œ)
}

const getters = {
// å®šä¹‰getters, gettersæ˜¯å¯¹stateçš„æ‰©å±•ï¼Œå¯ä»¥ä»¥stateè¡ç”Ÿå‡ºå…¶ä»–çŠ¶æ€
  demoFollowStatus: state => state.demoFollow ? 'å·²å…³æ³¨' : 'æœªå…³æ³¨'
  // demoFollowStatusæ˜¯demoFollowçš„è¡ç”Ÿé‡ï¼Œå°†åŸæ¥çš„å¸ƒå°”å€¼æ˜ å°„ä¸º'å·²å…³æ³¨' : 'æœªå…³æ³¨'
}

const mutations = {
// åªæœ‰mutationsæ‰èƒ½æ“ä½œæ”¹å˜stateï¼Œmutationsæ˜¯åŒæ­¥æ‰§è¡Œçš„
// æ‰€ä»¥æœ‰å…³å¼‚æ­¥çš„æ“ä½œè¯·æ”¾åœ¨actionsé‡Œæ‰§è¡Œ
  [types.DEMO__VUEX_FOLLOW] (state, status = NaN) {
  // ä½¿ç”¨é¢„å®šä¹‰å¥½çš„åå­—æ¥å†™mutationsæ–¹æ³•
    state.demoFollow = isNaN(status) ? !state.demoFollow : status
  },
  [types.DEMO__VUEX_FOLLOW_PENDING] (state, status = NaN) {
  // è¿™é‡Œå¯¹statusä¼ å€¼åšäº†å®¡æŸ¥ï¼Œå¦‚æ²¡æœ‰ä¼ ï¼Œåˆ™å¯¹è¦æ”¹å˜çš„å¸ƒå°”å€¼è¿›è¡Œå–åæ“ä½œ
    state.demoFollowPending = isNaN(status) ? !state.demoFollowPending : status
  }
}

const actions = {
// actionsæ˜¯å¯ä»¥æ‰§è¡Œå¼‚æ­¥æ“ä½œçš„ï¼Œæ“ä½œå®Œæ¯•åè§¦å‘mutationsé‡Œçš„æ–¹æ³•å»æ”¹å˜stateçš„çŠ¶æ€
  demoFollowAjax ({commit}, status) {
    commit(types.DEMO__VUEX_FOLLOW_PENDING)
    // åœ¨å¼‚æ­¥æ“ä½œå‰é€šè¿‡mutationså‘Šè¯‰åº”ç”¨ï¼Œç°åœ¨æ­£åœ¨è¿›è¡Œå¼‚æ­¥æ“ä½œ
    setTimeout(() => {
      // åˆ©ç”¨å»¶æ—¶å‡½æ•°æ¨¡æ‹Ÿå¼‚æ­¥çš„ajaxæ“ä½œ
      commit(types.DEMO__VUEX_FOLLOW_PENDING)
      // commit æ˜¯åœ¨actionsé‡Œç”¨æ¥è§¦å‘mutationsçš„æ–¹æ³•
      // å‘Šè¯‰åº”ç”¨ï¼Œå¼‚æ­¥æ“ä½œç»“æŸ
      commit(types.DEMO__VUEX_FOLLOW, status)
      // ä¸ºå…³æ³¨æŒ‰é’®èµ‹äºˆæ–°çš„çŠ¶æ€
    }, 2000)
  }
}

export default {
// å¯¼å‡ºæ•´ä¸ªdemoæ¨¡å—
  state,
  getters,
  actions,
  mutations
}
```
** è¿™é‡Œè§£é‡Šä¸‹mutationsé‡Œçš„æ–¹æ³•çš„å¥‡æ€ªå†™æ³•ï¼Œæˆ‘çŸ¥é“å¦‚æœå¯¹es6äºæ³•äº†è§£ä¸å¤šè¿™é‡Œæ˜¯ä¼šæ‡µé€¼çš„ **
```js
const mutations = {
  [types.DEMO__VUEX_FOLLOW] (state, status = NaN) {
    state.demoFollow = isNaN(status) ? !state.demoFollow : status
  }
}
```
è¿™æ˜¯å¯¹è±¡å†…æ–¹æ³•çš„ç®€åŒ–å†™æ³•ï¼Œå…¶ä¸­`types.DEMO__VUEX_FOLLOW`æ˜¯åœ¨`types.js`é‡Œé¢„å®šä¹‰çš„ï¼Œå†…å®¹å¦‚ä¸‹
```js
export const DEMO__VUEX_FOLLOW = 'DEMO__VUEX_FOLLOW'
export const DEMO__VUEX_FOLLOW_PENDING = 'DEMO__VUEX_FOLLOW_PENDING'
// å…¶å®å°±æ˜¯å­—ç¬¦ä¸²é›†åˆï¼Œæœ€åç”¨ import * as types from '../types' æ–¹æ³•å¯¼å…¥vuexæ¨¡å—é‡Œ
// å°±å˜æˆäº†ä¸€ä¸ªtypeså¯¹è±¡
```
ä¸Šä¾‹ä¸­å…¨éƒ¨å±•å¼€æ˜¯è¿™æ ·çš„
```js
const mutations = {
  [types.DEMO__VUEX_FOLLOW]: (state, status = NaN) => {
  // [types.DEMO__VUEX_FOLLOW]æ˜¯æå–types.DEMO__VUEX_FOLLOWçš„å€¼çš„ä¸€ç§æ–¹å¼
  // åœ¨è¿™é‡Œ[types.DEMO__VUEX_FOLLOW]æå–å‡ºæ¥å°±æ˜¯types.jsé‡Œé¢„å®šä¹‰çš„'DEMO__VUEX_FOLLOW'
    if (isNaN(status){
      state.demoFollow = !state.demoFollow
    } else {
      state.demoFollow = status
    }
  }
}
```
å¥½ï¼Œåˆ°æ­¤ä¸ºæ­¢ï¼Œvuexå°±å·²ç»å»ºç«‹å¥½äº†ï¼Œä¸‹é¢å°±è¯´å¦‚ä½•ä½¿ç”¨äº†

#### åº”ç”¨çŠ¶æ€çš„ä½¿ç”¨ä¸æ”¹å˜
vuexæä¾›äº†4ä¸ªè¾…åŠ©å‡½æ•°
```js
import { mapState, mapGetters, mapActions, mapMutations } from 'vuex'
```
æ˜¯åˆ†åˆ«ç”¨æ¥è·å–`State, Getters, Actions, Mutations`çš„mapæ–¹æ³•
åœ¨vue Componentsé‡Œé¢ä½ å¯ä»¥ä»¥è¿™æ ·çš„æ–¹å¼æ¥å¯¼å…¥éœ€è¦ä½¿ç”¨çš„æ–¹æ³•

è¿™4ä¸ªæ–¹æ³•æ‹¥æœ‰ç»Ÿä¸€çš„å‚æ•°æ ¼å¼ä»¥åŠä¸€ä¸ªç»Ÿä¸€çš„è¿”å›æ ¼å¼
å¯ä»¥ä¼ å…¥ä¸€ä¸ªæ•°ç»„
```js
mapGetters(['demoFollowStatus'])
// æ­¤æ–¹æ³•å¯¼å‡ºçš„æ˜¯ä¸€ä¸ªGetterså¯¹è±¡
mapGetters({
  demoFollow: 'demoFollowStatus'
})
// å¯ä»¥é€šè¿‡ä¼ å…¥å¯¹è±¡çš„å½¢å¼æ¥æ”¹å˜å¾—åˆ°çš„gettersæ–¹æ³•å
```
åŒç†ï¼Œä¸åŒçš„mapæ–¹æ³•ä¼šå¯¼å‡ºå„è‡ªçš„æ–¹æ³•
å…¶ä¸­`mapState, mapGetters`å°†ä¼šå¯¼å‡ºé€‚ç”¨äº`computed`çš„æ–¹æ³•
è€Œ`mapMutations, mapActions`å°†ä¼šå¯¼å‡ºé€‚ç”¨äº`methods`çš„æ–¹æ³•

è¿™é‡Œä»¥ä¸€ä¸ªdemoç»„ä»¶ä¸ºä¾‹[DemoVuexState.vue](https://github.com/leenty/vue2/blob/master/src/components/DemoVuexState.vue)
```js
import { mapState, mapGetters, mapMutations, mapActions } from 'vuex'
export default {
  data () {
    return {
    }
  },
  computed: {
  // vueçš„è®¡ç®—å±æ€§ï¼Œè®¡ç®—å±æ€§å†…æ–¹æ³•çš„ç§æœ‰å˜é‡å˜åŠ¨ä¼šè§¦å‘è¿™ä¸ªå±æ€§çš„é‡æ–°è®¡ç®—
    ...mapState({
      mapStateFollow: ({demo}) => demo.demoFollow,
      mapStateFollowPending: ({demo}) => demo.demoFollowPending
    }),
    // mapState()ç›´æ¥è¯»å–Stateé‡Œçš„çŠ¶æ€å†…å®¹
    ...mapGetters(['demoFollowStatus'])
    // mapGetters()é€šè¿‡gettersè½¬åŒ–stateä»è€Œå¾—åˆ°ä½ æƒ³è¦çš„å†…å®¹
  },
  methods: {
  // vueçš„æ–¹æ³•ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªäº‹ä»¶çš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªvuexçš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°
    ...mapMutations(['DEMO__VUEX_FOLLOW']),
    // åŒæ­¥çš„æ”¹å˜çŠ¶æ€
    ...mapActions(['demoFollowAjax'])
    // å¼‚æ­¥çš„æ”¹å˜çŠ¶æ€
  }
}
```
è¿™æ®µä»£ç æ˜¯ä¸€ä¸ªdemoé‡Œçš„ç‰‡æ®µï¼Œæ•ˆæœå¤§å®¶å¯ä»¥çœ‹[è¿™ä¸ªå‘†èŒ](http://vue2.leenty.com/demo/vuex_state)ï¼Œå¦‚æœå¼€å¿ƒäº†å¯ä»¥åœ¨[githubåº“é‡ŒåŠ ä¸ªæ˜Ÿ](https://github.com/leenty/vue2)ï¼Œå¦‚æœæœ‰é—®é¢˜å¯ä»¥è¯„è®ºğŸ˜€











