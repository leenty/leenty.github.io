<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>leenty blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="leenty ä¸ä¼šæ£(xia)é¼“(gao)çš„å‰ç«¯ä¸æ˜¯å¥½å…¨æ ˆ">
<meta property="og:type" content="website">
<meta property="og:title" content="leenty blog">
<meta property="og:url" content="http://baidu.com/index.html">
<meta property="og:site_name" content="leenty blog">
<meta property="og:description" content="leenty ä¸ä¼šæ£(xia)é¼“(gao)çš„å‰ç«¯ä¸æ˜¯å¥½å…¨æ ˆ">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="leenty blog">
<meta name="twitter:description" content="leenty ä¸ä¼šæ£(xia)é¼“(gao)çš„å‰ç«¯ä¸æ˜¯å¥½å…¨æ ˆ">
  
    <link rel="alternative" href="/atom.xml" title="leenty blog" type="application/atom+xml">
  
  
    <link rel="icon" href="//favicon.png">
  
  <script src="/style.js"></script>
  

</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img src="/img/default_avatar.png" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">leenty</a></h1>
		</hgroup>

		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">ä¸»é¡µ</a></li>
	        
				<li><a href="/archives">æ‰€æœ‰æ–‡ç« </a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)">æ‰€æœ‰æ–‡ç« </a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="1" href="javascript:void(0)">æ ‡ç­¾</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="2" href="javascript:void(0)">å‹é“¾</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="3" href="javascript:void(0)">å…³äºæˆ‘</a>
    			
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/leenty" title="github">github</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">leenty</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="/img/default_avatar.png" class="js-avatar">
				
			</div>
			<hgroup>
			  <h1 class="header-author">leenty</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">ä¸»é¡µ</a></li>
		        
					<li><a href="/archives">æ‰€æœ‰æ–‡ç« </a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/leenty" title="github">github</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        
  
    <article id="post-vue2-5" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/11/vue2-5/">vue2.0ä¸€èµ·åœ¨æ‡µé€¼çš„æµ·æ´‹é‡Œè¶Šé™·è¶Šæ·±ï¼ˆäº”ï¼‰</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>æœ¬æ–‡ç« ç³»åˆ—ï¼š<a href="http://leenty.com/tags/vuejs/" target="_blank" rel="external">vue2.0ä¸€èµ·åœ¨æ‡µé€¼çš„æµ·æ´‹é‡Œè¶Šé™·è¶Šæ·± (http://leenty.com/tags/vuejs/)</a><br>ä¹‹å‰çš„å‡ ç¯‡æ–‡ç« çš„è¯´äº†<code>vue-router</code>ä»¥åŠ<code>vuex</code>çš„ç®€å•ä½¿ç”¨ï¼Œè¿™æ¬¡å°±å¼€å§‹ç»„åˆè¿™ä¸¤è€…è¿›è¡Œå®é™…åº”ç”¨ã€‚<br>åœºåœ°å‘¢å°±åœ¨æˆ‘çš„<a href="http://vue2.leenty.com" target="_blank" rel="external">vue2.0Demo</a>,è¿™æ˜¯<a href="https://github.com/leenty/vue2" target="_blank" rel="external">æºç åœ°å€</a>,è§‰å¾—é è°±çš„è¯æ¬¢è¿åŠ æ˜Ÿè·Ÿéš,æœ‰é—®é¢˜æ¬¢è¿è¯„è®ºå’ŒæŒ‡æ­£ğŸ˜ƒ<br>OKäº¤ä»£å®Œæ¯•ï¼Œè¯´ä¸‹è¿™å›è¦å®Œæˆçš„å†…å®¹ã€‚<br>è¿™å›è¦åšçš„æ˜¯ä¸€ä¸ªå¸¦ç¼©æ”¾åŠŸèƒ½çš„æ»‘åŠ¨èœå•(å°±æ˜¯ä¸€ä¸ªä¾§æ‹‰æ )å’Œæ–‡ç« åˆ—è¡¨ï¼Œä»¥åŠæ–‡ç« çš„å±•ç¤ºè·¯ç”±<br>ä½¿ç”¨<code>vuex</code>åšçŠ¶æ€ç®¡ç†æ§åˆ¶<code>css</code>å®ŒæˆåŠ¨ç”»è¿‡åº¦æ•ˆæœä»¥åŠä½¿ç”¨<code>vue-router</code>çš„åµŒå¥—è·¯ç”±åŠŸèƒ½ã€‚</p>
<p><strong> æ»´æ»´æ»´ï¼ä¸Šè½¦è¯·åˆ·å¡ï¼</strong><br><img src="http://leenty.com/img/vue/shangche.jpg" alt=""></p>
<h3 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h3><p>é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆæŠŠæ ¸å¿ƒåŠŸèƒ½å®Œæˆï¼Œä¹Ÿå°±æ˜¯<code>vue-router</code>çš„åµŒå¥—è·¯ç”±åŠŸèƒ½ </p>
<h4 id="åµŒå¥—è·¯ç”±åŠŸèƒ½"><a href="#åµŒå¥—è·¯ç”±åŠŸèƒ½" class="headerlink" title="åµŒå¥—è·¯ç”±åŠŸèƒ½"></a>åµŒå¥—è·¯ç”±åŠŸèƒ½</h4><p>æœ‰äº›æ—¶å€™æˆ‘ä»¬ä¼šé‡åˆ°ä¸€ä¸ªæ¨¡æ¿é‡å¤ä½¿ç”¨çš„æƒ…å†µï¼Œæ³¨æ„æˆ‘è¯´çš„å¹¶ä¸æ˜¯ä¸€ä¸ªå­æ¨¡æ¿åœ¨å…¶çˆ¶æ¨¡æ¿ä¸Šçš„é‡å¤ï¼Œè€Œæ˜¯å¤šä¸ªé¡µé¢ä¹‹é—´çš„ä½¿ç”¨åˆ°ç›¸åŒçš„çˆ¶æ¨¡æ¿ã€‚<br>å°±å¥½æ¯”æœ‰è¿™ä¹ˆå‡ ä¸ªè·¯å¾„</p>
<ul>
<li><code>vue2.leenty.com/article/demo1</code></li>
<li><code>vue2.leenty.com/article/demo2</code></li>
<li><code>vue2.leenty.com/article/demo3</code><br>å¯ä»¥å‘ç°å…¶ä¸­å…±æœ‰çš„éƒ¨åˆ†<code>vue2.leenty.com/article</code>ã€‚<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">/article/demo1                 /article/demo2               /article/demo3</div><div class="line">+------------------+           +-----------------+          +-----------------+</div><div class="line">| article          |           | article         |          | article         |</div><div class="line">| +--------------+ |           | +-------------+ |          | +-------------+ |</div><div class="line">| | demo1        | |  +-----&gt;  | | demo2       | | +-----&gt;  | | demo3       | |</div><div class="line">| |              | |           | |             | |          | |             | |</div><div class="line">| +--------------+ |           | +-------------+ |          | +-------------+ |</div><div class="line">+------------------+           +-----------------+          +-----------------+</div></pre></td></tr></table></figure>
</li>
</ul>
<p>æ²¡é”™ï¼Œè¿™ä¸ªè·¯å¾„æŒ‡å‘çš„å°±æ˜¯çˆ¶æ¨¡æ¿ï¼Œä»–åœ¨å¤šä¸ªå­è·¯ç”±é‡Œè¢«é‡å¤çš„æ¸²æŸ“ï¼Œå¦‚æœæˆ‘ä»¬æ²¡æœ‰å¯¹å…¶åšåµŒå¥—è·¯ç”±çš„å¤„ç†ï¼Œç»“æœå°†æ˜¯ä¸ä»…æˆ‘ä»¬å†™çš„ç´¯ï¼Œvuejsæ¸²æŸ“çš„ä¹Ÿå¤šä½™ï¼Œå› ä¸ºè¿™ä¸ªæ¨¡æ¿è¢«åå¤çš„ä½¿ç”¨å´æ¯æ¬¡éƒ½è¢«é‡æ–°æ¸²æŸ“ã€‚<br>soï¼Œæˆ‘ä»¬å¼€å§‹åšåµŒå¥—è·¯ç”±å§ï¼<br>æ‰“å¼€è·¯ç”±åˆ—è¡¨æ–‡ä»¶(<code>routes.js</code>)<br>tips:ä¸è¦æŠŠ<code>routes.js</code>å’Œé¡¹ç›®é‡Œçš„<code>router.js</code>ææ··å’¯ï¼Œä¸€ä¸ªæ˜¯è·¯ç”±åˆ—è¡¨æ–‡ä»¶<code>routes.js</code>ï¼Œä¸€ä¸ªæ˜¯è·¯ç”±å¯¼å‡ºæ–‡ä»¶<code>router.js</code><br>åœ¨é‡Œé¢æˆ‘ä»¬å‡å®šæœ‰ä¸€ä¸ªåŸºç¡€çš„è·¯ç”±ï¼ˆè¿™ä¸ªæ–‡ä»¶åœ¨æœ¬ç³»åˆ—ç¬¬äºŒç« é‡Œæœ‰è®²åˆ°ï¼‰<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> routes = [</div><div class="line">  &#123;</div><div class="line">    name: <span class="string">'Article'</span>,</div><div class="line">    path: <span class="string">'/article'</span>,</div><div class="line">    component: <span class="built_in">require</span>(<span class="string">'./components/Article.vue'</span>)</div><div class="line">    <span class="comment">// è¿™é‡Œå› ä¸ºä¹¦å†™ä»¥åŠä»¥ååšå¼‚æ­¥ç»„ä»¶çš„æ–¹ä¾¿ï¼Œå°†åŸå…ˆçš„importå¯¼å…¥çš„æ–¹å¼æ”¹æˆäº†requireçš„æ–¹å¼</span></div><div class="line">    <span class="comment">// è¿™ä¹ˆåšä¸ä¼šå®è´¨ä¸Šæ²¡å’Œä¹‹å‰æ²¡æœ‰å˜åŒ–çš„ï¼Œåªæ˜¯å•çº¯çš„å†™æ³•ä¸åŒã€‚</span></div><div class="line">  &#125;</div><div class="line">]</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> routes</div></pre></td></tr></table></figure></p>
<p>å¥½ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬åŠ å…¥å­è·¯ç”±ï¼Œ<br>ç›®å‰æœ¬ç³»åˆ—å·²ç»æœ‰äº”ç¯‡æ–‡ç« ï¼Œé‚£ä¹ˆç°åœ¨ä¸€ä¸€åŠ å…¥è¿›å»ã€‚<br>å½“å‰çš„é¡¹ç›®è·¯å¾„<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">src</div><div class="line">â”œâ”€â”€ main.js               # vuejsåº”ç”¨å…¥å£</div><div class="line">â”œâ”€â”€ router.js             # è·¯ç”±å¯¼å‡ºæ–‡ä»¶</div><div class="line">â”œâ”€â”€ routes.js             # è·¯ç”±åˆ—è¡¨æ–‡ä»¶</div><div class="line">â”œâ”€â”€ App.vue               # vuejsåº”ç”¨æ ¹æ¨¡æ¿</div><div class="line">â”œâ”€â”€ components</div><div class="line">â”‚   â”œâ”€â”€ Home.vue</div><div class="line">â”‚   â”œâ”€â”€ Article.vue</div><div class="line">â”‚   â”œâ”€â”€ Demo.vue</div><div class="line">â”‚   â”œâ”€â”€ ...               # å­˜æ”¾å„ä¸ªè·¯ç”±å…¥å£æ–‡ä»¶</div><div class="line">â”‚   â””â”€â”€ templates         # å­˜æ”¾æ¨¡æ¿</div><div class="line">â”‚       â”œâ”€â”€ AppArticleList.vue    # æ–‡ç« åˆ—è¡¨ </div><div class="line">â”‚       â””â”€â”€ ...</div><div class="line">â””â”€â”€ store</div><div class="line">â”‚   â”œâ”€â”€ index.js          # ç»„è£…æ¨¡å—å¹¶å¯¼å‡º store çš„åœ°æ–¹</div><div class="line">â”‚   â”œâ”€â”€ actions.js        # æ ¹çº§åˆ«çš„ action</div><div class="line">â”‚   â”œâ”€â”€ mutations.js      # æ ¹çº§åˆ«çš„ mutation</div><div class="line">â”‚   â”œâ”€â”€ types.js          # mutationå‘½åç©ºé—´</div><div class="line">â”‚   â””â”€â”€ modules</div><div class="line">â”‚       â”œâ”€â”€ demo.js       # demoæ¨¡å—</div><div class="line">â”‚       â””â”€â”€ status.js     # å…¨å±€åº”ç”¨çŠ¶æ€æ¨¡å—</div><div class="line">â””â”€â”€ md                    # å­˜æ”¾mdæ–‡ä»¶</div><div class="line">    â””â”€â”€ articles          # æ–‡ç« è·¯å¾„ </div><div class="line">        â”œâ”€â”€ vue2-1.vue</div><div class="line">        â”œâ”€â”€ vue2-2.vue</div><div class="line">        â”œâ”€â”€ vue2-3.vue</div><div class="line">        â”œâ”€â”€ vue2-4.vue</div><div class="line">        â””â”€â”€ vue2-5.vue</div><div class="line">        (è¿™é‡Œä¸ºäº†è®²è§£æ–¹ä¾¿ï¼Œä¼šå°†.mdæ–‡ä»¶æ›¿æ¢ä¸º.vueæ–‡ä»¶ï¼Œ)</div><div class="line">        (æ•ˆæœæ˜¯ä¸€æ ·çš„åªæ˜¯æ€•è¯»è€…æœ‰äº›ä¹±ï¼Œ.vueæ–‡ä»¶ä½ ä»¬å°è¯•çš„æ—¶å€™å¯ä»¥å†™äº›ä¸œè¥¿)</div></pre></td></tr></table></figure></p>
<p>åµŒå¥—è·¯ç”±æ—¶ä¼šåœ¨åŸæœ‰è·¯ç”±å¯¹è±¡çš„åŸºç¡€ä¸Šæ·»åŠ ä¸€ä¸ª<code>children</code>çš„èŠ‚ç‚¹<br>ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> routes = [</div><div class="line">  &#123;</div><div class="line">    name: <span class="string">'Article'</span>,</div><div class="line">    path: <span class="string">'/article'</span>,</div><div class="line">    <span class="comment">// çˆ¶è·¯ç”±ä¸Šå°½é‡å†™ç»å¯¹è·¯å¾„ï¼Œä¸ç„¶å¯èƒ½ä¼šå¼•èµ·ä¸€äº›éº»çƒ¦ï¼Œ</span></div><div class="line">    <span class="comment">// æœ‰æ£(xia)é¼“(gao)ç²¾ç¥çš„åŒå­¦å¯ä»¥è¯•è¯•</span></div><div class="line">    component: <span class="built_in">require</span>(<span class="string">'./components/Article.vue'</span>),</div><div class="line">    children: [</div><div class="line">    <span class="comment">// childrenèŠ‚ç‚¹ï¼šä¼ å…¥ä¸€ä¸ªå­è·¯ç”±æ•°ç»„ï¼Œæ ¼å¼ä¸çˆ¶è·¯ç”±æ˜¯ä¸€æ ·çš„</span></div><div class="line">      &#123;</div><div class="line">        name: <span class="string">'vue2_1'</span>,</div><div class="line">        path: <span class="string">'vue2_1'</span>,</div><div class="line">        <span class="comment">// path: å¯¼å…¥çš„è·¯å¾„æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œä½ ä¸éœ€è¦å†™å…¨ï¼Œå¦‚ä¸‹çš„pathå°†ä¼šè¢«vuejsç†è§£ä¸ºï¼š</span></div><div class="line">        <span class="comment">// '/article/vue2_1'</span></div><div class="line">        <span class="comment">// *** æ³¨æ„ï¼š ***</span></div><div class="line">          <span class="comment">// å¦‚æœä½ å†™çš„æ˜¯è¿™æ ·çš„ç›¸å¯¹è·¯å¾„ï¼Œå°±åƒä¸‡åˆ«åœ¨å‰é¢åŠ '/'ï¼Œä¸ç„¶å°±æ„å‘³ç€è¿™æ˜¯ä¸€ä¸ªç»å¯¹è·¯å¾„</span></div><div class="line">        component: <span class="built_in">require</span>(<span class="string">'./md/articles/vue2-1.vue'</span>)</div><div class="line">      &#125;,</div><div class="line">      &#123;</div><div class="line">        name: <span class="string">'vue2_2'</span>,</div><div class="line">        path: <span class="string">'/article/vue2_2'</span>,</div><div class="line">        <span class="comment">// æ¼”ç¤ºä¸€ä¸ªç»å¯¹è·¯å¾„ï¼Œè¿™æ ·å­çš„è·¯å¾„ä¼šè¢«vuejsç†è§£ä¸ºå…¶æœ¬æ„'/article/vue2_2'</span></div><div class="line">        <span class="comment">// å¦‚æœè¿™é‡Œåªå†™äº†'/vue2_2'çš„è¯ï¼Œvuejså°±ä¼šæŠŠè·¯ç”±ç†è§£ä¸º'/vue2_2'ï¼Œ</span></div><div class="line">        <span class="comment">// ä¸è¿‡ä¸ç”¨æ‹…å¿ƒä»–æ˜¾ç¤ºä¸Šçš„é—®é¢˜ï¼Œåªæ˜¯urlä¼šæœ‰äº›æœ‰è¶£çš„åŒºåˆ«</span></div><div class="line">        <span class="comment">// ä½ ä¼šå‘ç°è™½ç„¶urlå˜çŸ­äº†ï¼Œä½†æ˜¯çˆ¶æ¨¡æ¿ä¾ç„¶æ­£å¸¸çš„æ˜¾ç¤ºç€ã€‚</span></div><div class="line">        component: <span class="built_in">require</span>(<span class="string">'./md/articles/vue2-2.vue'</span>)</div><div class="line">      &#125;,</div><div class="line">      &#123;</div><div class="line">        name: <span class="string">'vue2_3'</span>,</div><div class="line">        path: <span class="string">'vue2_3'</span>,</div><div class="line">        component: <span class="built_in">require</span>(<span class="string">'./md/articles/vue2-3.vue'</span>)</div><div class="line">      &#125;,</div><div class="line">      &#123;</div><div class="line">        name: <span class="string">'vue2_4'</span>,</div><div class="line">        path: <span class="string">'vue2_4'</span>,</div><div class="line">        component: <span class="built_in">require</span>(<span class="string">'./md/articles/vue2-4.vue'</span>)</div><div class="line">      &#125;,</div><div class="line">      &#123;</div><div class="line">        name: <span class="string">'vue2_5'</span>,</div><div class="line">        path: <span class="string">'vue2_5'</span>,</div><div class="line">        component: <span class="built_in">require</span>(<span class="string">'./md/articles/vue2-5.vue'</span>)</div><div class="line">      &#125;</div><div class="line">    ]</div><div class="line">  &#125;</div><div class="line">]</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> routes</div></pre></td></tr></table></figure></p>
<p>å—¯ï¼Œå¥½äº†ï¼Œè¿™æ ·åµŒå¥—è·¯ç”±å°±å»ºç«‹å¥½äº†</p>
<h4 id="å¯¹ä¾§æ‹‰æ åšçŠ¶æ€ç®¡ç†"><a href="#å¯¹ä¾§æ‹‰æ åšçŠ¶æ€ç®¡ç†" class="headerlink" title="å¯¹ä¾§æ‹‰æ åšçŠ¶æ€ç®¡ç†"></a>å¯¹ä¾§æ‹‰æ åšçŠ¶æ€ç®¡ç†</h4><p>æ‰“å¼€<code>src/store/modules/status.js</code><br>ä»£ç å¦‚ä¸‹<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> * <span class="keyword">as</span> types <span class="keyword">from</span> <span class="string">'../types'</span></div><div class="line"><span class="comment">// å¼•å…¥å‘½åç©ºé—´ï¼Œæ”¾ç½®åœ¨typesé‡Œ</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> getScrollData <span class="keyword">from</span> <span class="string">'../../utils/scroll'</span></div><div class="line"><span class="comment">// è¿™æ˜¯è·å¾—æ»šåŠ¨æ•°æ®çš„jsæ–‡ä»¶ï¼Œå…·ä½“æ€æ ·å†™çš„å¯ä»¥å»æˆ‘githubå¼€æºé¡¹ç›®é‡Œçœ‹</span></div><div class="line"><span class="comment">// å¯¼å‡ºçš„æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•è¿”å›ä¸€ä¸ªå¯¹è±¡</span></div><div class="line"><span class="comment">// &#123;</span></div><div class="line"><span class="comment">//    scrollTop: 0,</span></div><div class="line"><span class="comment">//    scrollHeight: 0,</span></div><div class="line"><span class="comment">//    windowHeight: 0,</span></div><div class="line"><span class="comment">//    scrollBottom: 0</span></div><div class="line"><span class="comment">// &#125;</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> state = &#123;</div><div class="line">  articleList: <span class="literal">false</span>,</div><div class="line">  <span class="comment">// å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºä¾§æ‹‰æ–‡ç« åˆ—è¡¨çš„å¼€å…³</span></div><div class="line">  scroll: &#123;</div><div class="line">  <span class="comment">// æ»šåŠ¨ç›¸å…³çš„æ•°æ®</span></div><div class="line">    scrollTop: <span class="number">0</span>,</div><div class="line">    scrollHeight: <span class="number">0</span>,</div><div class="line">    windowHeight: <span class="number">0</span>,</div><div class="line">    scrollBottom: <span class="number">0</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> getters = &#123;</div><div class="line">  <span class="comment">// articleList: (&#123;status&#125;) =&gt; status.articleList</span></div><div class="line">  <span class="comment">// tips: ä¸Šé¢è¿™ç§æ–¹æ³•æ˜¯é”™è¯¯çš„ã€‚è¿™é‡Œçš„gettersä¼ å…¥è¿›æ¥çš„ä¸æ˜¯stateçš„æ ¹å¯¹è±¡ï¼Œ</span></div><div class="line">  <span class="comment">// è€Œæ˜¯å½“å‰çš„stateå¯¹è±¡ï¼Œåœ¨è¿™é‡Œä¹Ÿå°±ç›¸å½“äºæ˜¯state = state.status</span></div><div class="line">  <span class="comment">// æ‰€ä»¥å¯ä»¥æ”¾å¿ƒçš„ç”¨state</span></div><div class="line">  articleList: state =&gt; state.articleList</div><div class="line">  <span class="comment">// è®¾ç½®Gettersï¼Œåœ¨.vueæ–‡ä»¶é‡Œå¯ä»¥ä½¿ç”¨mapGettersæ–¹æ³•è·å¾—</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> mutations = &#123;</div><div class="line">  [types.ARTICLE_LIST] (state) &#123;</div><div class="line">    state.articleList = !state.articleList</div><div class="line">  &#125;,</div><div class="line">  <span class="comment">// è®¾ç½®mutationsï¼Œåªæœ‰è¿™ä¸ªæ–¹æ³•å¯ä»¥æ”¹å˜state</span></div><div class="line">  [types.SCROLLDATA] (state, scrollObj) &#123;</div><div class="line">    state.scroll = scrollObj</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> actions = &#123;</div><div class="line">  articleListSwitch (&#123; commit &#125;) &#123;</div><div class="line">    commit(types.ARTICLE_LIST)</div><div class="line">  &#125;,</div><div class="line">  <span class="comment">// è®¾ç½®actions,å¯ä»¥åœ¨è¿™é‡Œåšä¸€äº›å¼‚æ­¥çš„å·¥ä½œï¼Œç„¶åä½¿ç”¨commitæ¥è°ƒç”¨mutationsä¿®æ”¹state</span></div><div class="line">  pushScrollData (&#123; commit &#125;) &#123;</div><div class="line">    commit(types.SCROLLDATA, getScrollData(), &#123; silent: <span class="literal">true</span> &#125;)</div><div class="line">    <span class="comment">// å› ä¸ºé¡µé¢æ»šåŠ¨è§¦å‘é¢‘ç¹ï¼Œä¼šå½±å“åˆ°æˆ‘ä»¬å¹³æ—¶çš„vuexçš„å®¡æŸ¥ï¼Œæ‰€ä»¥è¿™é‡Œé€‰æ‹©é™é»˜æäº¤</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</div><div class="line">  state,</div><div class="line">  getters,</div><div class="line">  actions,</div><div class="line">  mutations</div><div class="line">&#125;</div><div class="line"><span class="comment">// è€Œåçš„.vueæ–‡ä»¶å°±å¯ä»¥è°ƒç”¨è¾…åŠ©æ–¹æ³•è¾¾åˆ°è·å–çŠ¶æ€æˆ–è€…æ§åˆ¶çŠ¶æ€çš„ç›®çš„äº†</span></div></pre></td></tr></table></figure></p>
<p>è°ƒè¯•vuexæœ€å¥½ä½¿ç”¨vuejsçš„è°·æ­Œæ’ä»¶<a href="https://chrome.google.com/webstore/detail/nhdogjmejiglipccpnnnanhbledajbpd" target="_blank" rel="external">Devtools</a><br>æˆ–è€…å»github<a href="https://github.com/vuejs/vue-devtools" target="_blank" rel="external">ä¸‹è½½æºç è‡ªå·±ç¼–è¯‘</a><br>ç¿»å¢™è¦æ¢¯å­(vpn)ï¼Œæƒ³ç¿»å¢™æ²¡vpnçš„æˆ‘è¿™é‡Œå®‰åˆ©ä¸€ä¸ªvpnï¼Œæ²¡ä»€ä¹ˆå…¶ä»–ï¼Œå› ä¸ºæˆ‘æ­£ç”¨çš„å°±æ˜¯è¿™ä¸ªã€‚<br>è´´ä¸€ä¸ªäº‘æ¢¯æ¨èç <a href="http://referyt.com/?r=f688f08a26bf108d" target="_blank" rel="external">http://referyt.com/?r=f688f08a26bf108d</a>,é€šè¿‡æ¨èç æ³¨å†Œå¯ä»¥ä¼˜æƒ 10å…ƒï¼Œç¬”è€…ä¹Ÿå¯ä»¥å¾—åˆ°10å…ƒä¼˜æƒ ï¼Œåœ¨å¾—åˆ°ä¼˜æƒ çš„åŒæ—¶ä¹Ÿæ˜¯å¯¹æˆ‘çš„é¼“èˆå§ğŸ˜‚</p>
<h4 id="æ¸²æŸ“é“¾æ¥åˆ—è¡¨"><a href="#æ¸²æŸ“é“¾æ¥åˆ—è¡¨" class="headerlink" title="æ¸²æŸ“é“¾æ¥åˆ—è¡¨"></a>æ¸²æŸ“é“¾æ¥åˆ—è¡¨</h4><p>æ¥ä¸‹æ¥è¦åšçš„å°±æ˜¯åšé“¾æ¥è·³è½¬ã€‚<br>åˆ‡åˆ°<code>AppArticleList.vue</code>æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯æ–‡ç« åˆ—è¡¨é¡µã€‚<br>å¤§å®¶å¯ä»¥åœ¨æˆ‘çš„Demoé‡Œç‚¹å‡»å·¦ä¸Šè§’çš„èœå•æŒ‰é’®çœ‹åˆ°è¿™ä¸ªåˆ—è¡¨<br>!(AppArticleList.vue)[/img/vue/AppArticleList.jpg]</p>
<p>é‡Œé¢çš„å†…å®¹æ˜¯è¿™æ ·å­çš„<br>(å› ä¸ºå†…å®¹æœ‰äº›å¤æ‚ï¼Œä¸ºäº†çœ‹çš„æ¸…æ™°ç‚¹è¿™æ˜¯æˆ‘æå–å‡ºæ¥çš„æ ¸å¿ƒéƒ¨åˆ†)<br>(æºæ–‡ä»¶å¯ä»¥çœ‹<a href="https://github.com/leenty/vue2/blob/master/src/components/templates/AppArticleList.vue" target="_blank" rel="external">https://github.com/leenty/vue2/blob/master/src/components/templates/AppArticleList.vue</a>)<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- å¤§è‡´çš„å†…å®¹å°±æ˜¯æ¸²æŸ“ä¸€ä¸ªæ–‡ç« åˆ—è¡¨ --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">lang</span>=<span class="string">"pug"</span>&gt;</span></div><div class="line">  .articleList(:class="&#123;'articleList--Active': articleList&#125;").l-page--Full</div><div class="line">    ul.articleList__content.u-ul--Reset</div><div class="line">      li(</div><div class="line">        v-for="(item, index) in list",</div><div class="line">        // vuejsçš„forå¾ªç¯ï¼ŒlistæŒ‡å‘äº†dataé‡Œçš„listæ•°ç»„(çœ‹jséƒ¨åˆ†)</div><div class="line">        :style="calcDelay(index)",</div><div class="line">        // ç»‘å®šè¿”å›ä¸€ä¸ªcsså»¶æ—¶ä»£ç (åœ¨methodsæ–¹æ³•ä¸‹)</div><div class="line">        // ä¸»è¦åŠŸèƒ½æ˜¯ç»™èœå•æä¾›ä¾æ¬¡è¿›å…¥çš„åŠ¨ç”»æ•ˆæœ</div><div class="line">        @click="articleListSwitch"</div><div class="line">        // ç»‘å®šç‚¹å‡»äº‹ä»¶ï¼Œæ§åˆ¶æ–‡ç« åˆ—è¡¨çš„å‡ºç°å’Œéšè—</div><div class="line">      ).articleList__li</div><div class="line">        router-link(</div><div class="line">        // é€šè¿‡listé‡Œçš„æ•°æ®å¾ªç¯ç”Ÿæˆè·¯ç”±é“¾æ¥</div><div class="line">          :to="&#123;name: item.name&#125;",</div><div class="line">          // ç»‘å®šè·¯ç”±é“¾æ¥ï¼Œè¿™é‡Œç”¨äº†&#123;name: item.name&#125;æ˜¯å› ä¸ºç›¸å¯¹æ¥è¯´ï¼Œnameæ¯”pathæ–¹ä¾¿</div><div class="line">          // itemå°±æ˜¯ä¹‹å‰forå¾ªç¯é‡Œçš„item</div><div class="line">          active-class="articleList__link--Active"</div><div class="line">          // ä¹‹å‰çš„æ–‡ç« çš„ç¬¬äºŒç¯‡é‡Œå¯¹è·¯ç”±æ—¶åŒ¹é…çš„`linkActiveClass`åšäº†é…ç½®ï¼Œ</div><div class="line">          // è¿™é‡Œç”¨ä¸åˆ°åŸæ¥é…ç½®çš„class,æ‰€ä»¥å¯ä»¥ç”¨è¿™ä¸ªæ–¹æ³•å•ç‹¬çš„åšå¤„ç†</div><div class="line">          // æŠŠåŒ¹é…åˆ°çš„é“¾æ¥çš„classæ”¹æˆäº†'articleList__link--Active'</div><div class="line">        ).articleList__link.u-borderBox.u-link__inherit.l-flexV--c</div><div class="line">          .articleList__title</div><div class="line">            svg.svg__home.u-va--tb</div><div class="line">              use(xlink:href="#svg__articleIcon")</div><div class="line">            // è¿™é‡Œç”¨çš„å›¾æ ‡æ˜¯svgçš„,å…³äºè¿™ç§ç”¨æ³•ï¼Œå¦‚æœæœ‰å…´è¶£æˆ‘å¯ä»¥ä¸“é—¨çš„ä»‹ç»ä¸€ä¸‹</div><div class="line">            | &#123;&#123;item.title&#125;&#125; </div><div class="line">            // ç»‘å®šé“¾æ¥çš„æ–‡å­—</div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"><span class="keyword">import</span> &#123; mapActions, mapGetters &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></div><div class="line"><span class="comment">// å¯¼å…¥vuexçš„ä¸¤ä¸ªå°†è¦ç”¨åˆ°çš„è¾…åŠ©æ–¹æ³•</span></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</div><div class="line">  <span class="comment">// export defalutæ˜¯es6çš„æ¨¡å—å¯¼å‡ºæ–¹æ³•ï¼Œè¿™é‡Œå¯¼å‡ºä¸€ä¸ªé»˜è®¤æ¨¡å—ï¼Œå³æ˜¯ä¸€ä¸ªvueå¯¹è±¡</span></div><div class="line">  data () &#123;</div><div class="line">    <span class="comment">// è¿™æ˜¯ä¸€ç§es6å¯¹è±¡å­—é¢é‡çš„ç¼©å†™ï¼ŒæŒ‡å‘ä¸€ä¸ªå‡½æ•°</span></div><div class="line">    <span class="comment">// æ‰©å±•å‡ºæ¥å°±æ˜¯data: function data () &#123;&#125;</span></div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">      <span class="comment">// è€Œååœ¨å‡½æ•°é‡Œå»è¿”å›å°†è¦ç”¨åˆ°çš„æ•°æ®</span></div><div class="line">      <span class="comment">// è¿™ä¹ˆåšè¿”å›çš„æ•°æ®å¯ä»¥ä½¿ç”¨thisè®¿é—®åˆ°</span></div><div class="line">      list: [</div><div class="line">        &#123;</div><div class="line">          name: <span class="string">'vue2_1'</span>,</div><div class="line">          title: <span class="string">'vue2.0ä¸€èµ·åœ¨æ‡µé€¼çš„æµ·æ´‹é‡Œè¶Šé™·è¶Šæ·±ï¼ˆä¸€ï¼‰'</span></div><div class="line">        &#125;,</div><div class="line">        &#123;</div><div class="line">          name: <span class="string">'vue2_2'</span>,</div><div class="line">          title: <span class="string">'vue2.0ä¸€èµ·åœ¨æ‡µé€¼çš„æµ·æ´‹é‡Œè¶Šé™·è¶Šæ·±ï¼ˆäºŒï¼‰'</span></div><div class="line">        &#125;,</div><div class="line">        &#123;</div><div class="line">          name: <span class="string">'vue2_3'</span>,</div><div class="line">          title: <span class="string">'vue2.0ä¸€èµ·åœ¨æ‡µé€¼çš„æµ·æ´‹é‡Œè¶Šé™·è¶Šæ·±ï¼ˆä¸‰ï¼‰'</span></div><div class="line">        &#125;,</div><div class="line">        &#123;</div><div class="line">          name: <span class="string">'vue2_4'</span>,</div><div class="line">          title: <span class="string">'vue2.0ä¸€èµ·åœ¨æ‡µé€¼çš„æµ·æ´‹é‡Œè¶Šé™·è¶Šæ·±ï¼ˆå››ï¼‰'</span></div><div class="line">        &#125;,</div><div class="line">        &#123;</div><div class="line">          name: <span class="string">'vue2_5'</span>,</div><div class="line">          title: <span class="string">'vue2.0ä¸€èµ·åœ¨æ‡µé€¼çš„æµ·æ´‹é‡Œè¶Šé™·è¶Šæ·±ï¼ˆäº”ï¼‰'</span></div><div class="line">        &#125;</div><div class="line">      ]</div><div class="line">    &#125;</div><div class="line">  &#125;,</div><div class="line">  computed: mapGetters([<span class="string">'articleList'</span>]),</div><div class="line">  <span class="comment">// vueçš„è®¡ç®—æ–¹æ³•å¯¹è±¡,ç”¨æ³•å’Œdataé‡Œçš„æ•°æ®æ˜¯ä¸€æ ·çš„ï¼Œ</span></div><div class="line">  <span class="comment">// è¿™é‡Œä½¿ç”¨äº†mapGettersè¾…åŠ©å‡½æ•°ï¼Œç”¨æ¥è·å¾—vuexçš„Gettersé‡Œçš„articleList</span></div><div class="line">  <span class="comment">// è¿™ä¸ªæ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥å¦‚æœæ²¡æœ‰å…¶ä»–è®¡ç®—æ–¹æ³•çš„è¯ç›´æ¥èµ‹å€¼ç»™computedå°±å¥½äº†</span></div><div class="line">  <span class="comment">// æœ‰çš„è¯å¯ä»¥å‘ä¸‹é¢è¿™æ ·: </span></div><div class="line">  <span class="comment">// computed: &#123;</span></div><div class="line">  <span class="comment">//    demo () &#123;</span></div><div class="line">  <span class="comment">//      return this.list[0].name</span></div><div class="line">  <span class="comment">//      åœ¨è¿™é‡Œä½ å¯ä»¥ä½¿ç”¨thisè®¿é—®åˆ°dataé‡Œçš„list</span></div><div class="line">  <span class="comment">//    &#125;,</span></div><div class="line">  <span class="comment">//    ...mapGetters(['articleList'])</span></div><div class="line">  <span class="comment">//    ...å»¶å±•æ“ä½œç¬¦ï¼Œç”¨äºå±•å¼€mapGetterså¾—åˆ°çš„å¯¹è±¡ï¼Œä½¿å¾—ä¸demoå±æ€§å¹³çº§</span></div><div class="line">  <span class="comment">// &#125;,</span></div><div class="line">  methods: &#123;</div><div class="line">    <span class="comment">// vueçš„æ–¹æ³•å¯¹è±¡ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œå†™ä½ çš„äº‹ä»¶å¤„ç†å‡½æ•°æˆ–æ˜¯å…¶ä»–æ–¹æ³•</span></div><div class="line">    calcDelay: <span class="function"><span class="keyword">function</span> (<span class="params">index</span>) </span>&#123;</div><div class="line">      <span class="comment">// è¿™æ˜¯åˆ†é…cssåŠ¨ç”»å»¶è¿Ÿé‡çš„å‡½æ•°</span></div><div class="line">      <span class="keyword">return</span> &#123;</div><div class="line">        <span class="string">'transitionDelay'</span>: <span class="string">`.<span class="subst">$&#123;index + 2&#125;</span>s`</span></div><div class="line">      &#125;</div><div class="line">    &#125;,</div><div class="line">    ...mapActions([<span class="string">'articleListSwitch'</span>])</div><div class="line">    <span class="comment">// é€šè¿‡å»¶å±•æ“ä½œç¬¦,å±•å¼€mapActionså¾—åˆ°çš„actionså¯¹è±¡</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">"stylus"</span>&gt;</span><span class="undefined"></span></div><div class="line">  // csså°±ä¸å¤šè¯´äº†</div><div class="line">  @import '../../assets/stylus/preinstall'</div><div class="line">  .articleList</div><div class="line">    background-color c-master</div><div class="line">  .articleList__content</div><div class="line">    width s-articleList</div><div class="line">    margin-top 8vh</div><div class="line">    max-height 84vh</div><div class="line">    color #fff</div><div class="line">  .articleList__li</div><div class="line">    transform translateX(-(s-articleList))</div><div class="line">    transition transform .3s cb-duang .2s</div><div class="line">  .articleList__link</div><div class="line">    width 100%</div><div class="line">    line-height 1.3em</div><div class="line">    padding-left 10px</div><div class="line">    min-height 50px</div><div class="line">    background-color rgba(255,255,255,.1)</div><div class="line">    &amp;:hover</div><div class="line">      background-color rgba(255,255,255,.3)</div><div class="line">    svg</div><div class="line">      transform-origin bottom center</div><div class="line">      transform scale(.7)</div><div class="line">  .articleList__link--Active</div><div class="line">    background-color rgba(255,255,255,.4)</div><div class="line">  .articleList--Active .articleList__li</div><div class="line">    transform translateX(0)</div><div class="line">  .articleList__title</div><div class="line">    display block</div><div class="line">    width 100%</div><div class="line">    font-size 12px</div><div class="line">    &amp;:first-line</div><div class="line">      font-size 14px</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>åœ¨å†™çš„è¿‡ç¨‹ä¸­ç¢°åˆ°äº†ä¸€ä¸ªæµè§ˆå™¨bugï¼Œè¿™é‡Œè¿˜æ˜¯è¯´ä¸‹<br>bug: å¦‚æœçˆ¶å…ƒç´ è¿›è¡Œäº†transformå˜æ¢ï¼Œé‚£ä¹ˆå­å…ƒç´ çš„position fixedå°†ä¼šå¤±å»ä½œç”¨,é€€åŒ–æˆposition absolute<br>è§£å†³æ–¹æ¡ˆ: ä¹‹å‰è¯•è¿‡æƒ³è¦ä½¿ç”¨cssçš„æ–¹å¼å»ç»•è¿‡è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯å‘ç°ä¸è¡Œï¼Œæ— å¥ˆä½¿ç”¨äº†jså»è®¡ç®—å­å…ƒç´ é€€åŒ–æˆabsoluteåçš„å·®å€¼ï¼Œå¯¹å…¶è¿›è¡Œä½ç§»è¾¾åˆ°è§†è§‰çš„æ•ˆæœã€‚<br>æœ‰å…´è¶£çš„å¯ä»¥æ‰“å¼€<a href="http://vue2.leenty.com/article/vue2_2" target="_blank" rel="external">http://vue2.leenty.com/article/vue2_2</a>ç„¶åå®¡æŸ¥å…ƒç´ ï¼ŒæŸ¥çœ‹æˆ‘çš„å¯¼èˆªæ¡ä¹Ÿå°±æ˜¯<code>.header__content</code>ï¼Œè¿™ä¸ªæ—¶å€™ä½ æ‰“å¼€ä¾§è¾¹æ ç„¶åä¸Šä¸‹æ»šåŠ¨å°±ä¼šçœ‹åˆ°<code>.header__content</code>ä¸Šjsæ‰€ä¸å…¨çš„å·®å€¼äº†</p>
<h4 id="è£…è½½åµŒå¥—è·¯ç”±"><a href="#è£…è½½åµŒå¥—è·¯ç”±" class="headerlink" title="è£…è½½åµŒå¥—è·¯ç”±"></a>è£…è½½åµŒå¥—è·¯ç”±</h4><p>æ‰“å¼€<code>article.vue</code>æ–‡ä»¶ï¼Œæ–‡ä»¶å¾ˆç®€å•ï¼Œå†…å®¹å¦‚ä¸‹ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">lang</span>=<span class="string">"pug"</span>&gt;</span></div><div class="line">.article</div><div class="line">  h1.l-ta--c æ–‡ç« é¡µé¢</div><div class="line">  .md-content</div><div class="line">    router-view</div><div class="line">    // è¿™ä¸ªå°±æ˜¯äºŒçº§è·¯ç”±çš„è£…è½½ç‚¹äº†</div><div class="line">    // ä¹‹å‰çš„`APP.vue`çš„`router-view`ä¼šè£…è½½å½“å‰æ¨¡æ¿ï¼Œè€Œåçš„æ–‡ç« éƒ½ä¼šè£…è½½åˆ°è¿™ä¸ªç‚¹ä¸Šã€‚</div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</div><div class="line">    data () &#123;</div><div class="line">      <span class="keyword">return</span> &#123;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">"stylus"</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h4 id="å…³äºè§¦å‘æ»šåŠ¨ä¹‹åçš„ä¸€ç³»åˆ—äº‹ä»¶"><a href="#å…³äºè§¦å‘æ»šåŠ¨ä¹‹åçš„ä¸€ç³»åˆ—äº‹ä»¶" class="headerlink" title="å…³äºè§¦å‘æ»šåŠ¨ä¹‹åçš„ä¸€ç³»åˆ—äº‹ä»¶"></a>å…³äºè§¦å‘æ»šåŠ¨ä¹‹åçš„ä¸€ç³»åˆ—äº‹ä»¶</h4><p>å…³äºè§¦å‘æ»šåŠ¨ï¼Œè€ƒè™‘åˆ°ä¹‹åå¯èƒ½ä¼šæœ‰å¤šä¸ªé¡µé¢éœ€è¦ä½¿æ»šåŠ¨æ–¹é¢çš„æ•°æ®ï¼Œæ‰€ä»¥å°±æ”¾åœ¨äº†vuexé‡Œä½œä¸ºçŠ¶æ€çš„ä¸€éƒ¨åˆ†ã€‚<br>æ‰€ä»¥æ»šåŠ¨çš„ç›‘å¬å°±åªéœ€è¦ç›‘å¬ä¸€æ¬¡å°±å¥½äº†ï¼Œå¤šä¸ªåœ°æ–¹çš„ç›‘å¬ä¼šæµªè´¹èµ„æº<br>æœ€ç»ˆï¼Œæˆ‘æŠŠç›‘å¬æ”¾åœ¨äº†<code>App.vue</code>é‡Œé¢,åœ¨é‡Œé¢ç›‘å¬â€™scrollâ€™äº‹ä»¶ï¼Œç„¶åæ”¾åœ¨vuexä¸Šï¼Œä¾›æœ‰éœ€è¦çš„ç»„ä»¶å»ä½¿ç”¨</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">lang</span>=<span class="string">"pug"</span>&gt;</span></div><div class="line">  .app.u-clearfix</div><div class="line">    app-article-list</div><div class="line">    .app__content(</div><div class="line">      :class="&#123;'app__content--Active': articleList&#125;",</div><div class="line">      // å¦‚æœä¾§æ‹‰æ–‡ç« åˆ—è¡¨æ‰“å¼€ï¼Œé‚£ä¹ˆæ·»åŠ è¿™ä¸ªclassï¼Œç›¸åº”çš„cssæ•ˆæœå°†è¢«è§¦å‘</div><div class="line">      @scroll="pushScrollData"</div><div class="line">      // ç»‘å®šscrolläº‹ä»¶</div><div class="line">    ).l-page--Full</div><div class="line">      home-header</div><div class="line">      .app__bodyer.l-mH--auto</div><div class="line">        router-view</div><div class="line">    include ./assets/svg/all</div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">  <span class="keyword">import</span> HomeHeader <span class="keyword">from</span> <span class="string">'./components/templates/HomeHeader.vue'</span></div><div class="line">  <span class="keyword">import</span> AppArticleList <span class="keyword">from</span> <span class="string">'./components/templates/AppArticleList.vue'</span></div><div class="line">  <span class="keyword">import</span> &#123; mapGetters, mapActions &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></div><div class="line">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</div><div class="line">    components: &#123;</div><div class="line">      HomeHeader,</div><div class="line">      AppArticleList</div><div class="line">    &#125;,</div><div class="line">    computed: mapGetters([</div><div class="line">      <span class="string">'articleList'</span></div><div class="line">    ]),</div><div class="line">    methods: &#123;</div><div class="line">      ...mapActions([</div><div class="line">        <span class="string">'pushScrollData'</span>,</div><div class="line">        <span class="string">'articleListSwitch'</span></div><div class="line">      ])</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">"stylus"</span>&gt;</span><span class="css"></span></div><div class="line">  @<span class="keyword">import</span> <span class="string">'./assets/stylus/main'</span></div><div class="line">  .app__menu</div><div class="line">    background-color c-master</div><div class="line">  .app__content</div><div class="line">    overflow auto</div><div class="line">    transition transform .<span class="number">5s</span></div><div class="line">    box-shadow <span class="number">0</span> <span class="number">0</span> <span class="number">100px</span> <span class="number">5px</span> rgba(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.3</span>)</div><div class="line">    background-color c-bgc</div><div class="line">    transform-origin s-articleList center</div><div class="line">  .app__content--Active</div><div class="line">    transform scale(.<span class="number">9</span>) translateX(s-articleList)</div><div class="line">  .app__bodyer</div><div class="line">    max-width max-width</div><div class="line">    background-color c-bgc</div><div class="line">  @media screen and (max-width: max-width)</div><div class="line">    .app__bodyer</div><div class="line">      padding <span class="number">0</span> <span class="number">10px</span></div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div></pre></td></tr></table></figure>
<p>okï¼Œè¿™ä¹ˆä¸ªæµç¨‹èµ°ä¸‹æ¥ï¼Œç®—æ˜¯æŠŠ<code>vuejs</code>,<code>vue-router</code>å’Œ<code>vuex</code>ç”¨åœ¨äº†ä¸€èµ·</p>
<h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3><p><a href="http://vue2.leenty.com" target="_blank" rel="external">æ¼”ç¤ºåœ°å€(http://vue2.leenty.com)</a><br><a href="https://github.com/leenty/vue2" target="_blank" rel="external">æºç åœ°å€(https://github.com/leenty/vue2)</a><br><a href="https://github.com/leenty" target="_blank" rel="external">githubä¸»é¡µ</a>,è§‰å¾—é è°±çš„è¯æ¬¢è¿åŠ æ˜Ÿè·Ÿéš</p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/12/11/vue2-5/" class="archive-article-date">
  	<time datetime="2016-12-11T14:20:04.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-12-11</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/css/">css</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue-router/">vue-router</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vuejs/">vuejs</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vuex/">vuex</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-vue2-4" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/04/vue2-4/">vue2.0ä¸€èµ·åœ¨æ‡µé€¼çš„æµ·æ´‹é‡Œè¶Šé™·è¶Šæ·±ï¼ˆå››ï¼‰</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>æœ¬æ–‡ç« ç³»åˆ—ï¼š<a href="http://leenty.com/tags/vuejs/" target="_blank" rel="external">vue2.0ä¸€èµ·åœ¨æ‡µé€¼çš„æµ·æ´‹é‡Œè¶Šé™·è¶Šæ·± (http://leenty.com/tags/vuejs/)</a><br>å‰é¢ä¸€ç¯‡è®²äº†vue-routerçš„<code>router-link</code>,<br>æœ‰è¯»è€…è¯´å¸Œæœ›èƒ½å…ˆçœ‹åˆ°vuexçš„æ–‡ç« <br>å…¶å®vuexåœ¨æˆ‘çš„vue2.0çš„demoé‡Œå·²ç»åœ¨ä½¿ç”¨äº†<br>æƒ³æƒ³ç¡®å®åº”è¯¥å…ˆæ¥ç‚¹vuexçš„äº†ï¼Œå› ä¸ºæœ‰äº›æœ‰å…³çš„çŠ¶æ€ç®¡ç†æ€¥éœ€vuexçš„åŠ å…¥<br>å¥½ï¼Œé‚£ä¹ˆè¿™æ¬¡å°±å…ˆä¸Švuexå§ï¼</p>
<h3 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h3><p>OKï¼å…ˆä»‹ç»ä¸‹vuex<br>vuexæ˜¯vuejsçš„çŠ¶æ€ç®¡ç†æ–¹æ¡ˆ<br>å› ä¸ºvuexæœ‰äº›å¤æ‚ï¼Œä¸€èˆ¬åº”ç”¨åœ¨è¾ƒå¤æ‚çš„çŠ¶æ€ç¯å¢ƒä¸‹ï¼Œå¦‚æœæ˜¯æ¯”è¾ƒç®€å•çš„åº”ç”¨å°±ä¸éœ€è¦å®‰è£…vuexäº†</p>
<h4 id="vuexå•å‘æ•°æ®æµ"><a href="#vuexå•å‘æ•°æ®æµ" class="headerlink" title="vuexå•å‘æ•°æ®æµ"></a>vuexå•å‘æ•°æ®æµ</h4><p><img src="http://leenty.com/img/vue/flow.png" alt="vuexå•å‘æ•°æ®æµ"><br>å¦‚ä¸Šå›¾æ‰€ç¤ºæ˜¯vuexå•å‘æ•°æ®æµçš„æµç¨‹</p>
<p><strong> æˆ‘çŸ¥é“ï¼Œå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦è¿™ç©æ„ï¼Œåˆ°è¿™å°±æ‡µé€¼äº†ï¼Œå°±åƒæˆ‘ç¬¬ä¸€æ¬¡çœ‹æ–‡æ¡£ä¸€æ · </strong><br><img src="http://leenty.com/img/face/mengbi3.jpg" alt="vuexå•å‘æ•°æ®æµ"></p>
<p><strong> ä¸‹é¢è§£é‡Šä¸‹<code>State</code> </strong><br>å‰é¢è¯´äº†vuexæ˜¯vuejsçš„çŠ¶æ€ç®¡ç†æ–¹æ¡ˆï¼Œè¿™é‡Œçš„çŠ¶æ€å°±æ˜¯å›¾ä¸­çš„<code>state</code><br>åœ¨å¹³æ—¶å†™å†™å‰ç«¯çš„è¿‡ç¨‹ä¸­ï¼Œéƒ½ä¼šæ¶‰åŠåˆ°çŠ¶æ€çš„é—®é¢˜ï¼Œ<br>æ¯”å¦‚ä½ çœ‹åˆ°äº†ä¸€ç¯‡æ–‡ç« å†™çš„ä¸é”™ï¼Œå°±æƒ³è¦æ”¶è—ï¼Œ<br>ç„¶ååˆå¯¹ä½œè€…æœ‰äº›å…´è¶£ï¼Œäºæ˜¯åˆåŠ äº†å…³æ³¨ï¼Œå½“ç„¶è¿™äº›æœ€åéƒ½æ˜¯éœ€è¦å‰ç«¯æ¥è¡¨è¾¾å‡ºæ¥<br>è¿™é‡Œé¢å°±æ¶‰åŠäº†ä¸¤ä¸ªçŠ¶æ€å°±æ˜¯æ”¶è—ä¸å…³æ³¨<br>è¿™é‡Œçš„æ”¶è—ä¸å…³æ³¨æˆ‘ä»¬å¯ä»¥å°†å…¶ç”¨ä¸€ä¸ªå˜é‡æ¥è¡¨ç¤ºï¼Œå½“ç„¶å¦‚è¿™ä¸¤ç§åªå­˜åœ¨ä¸¤ä¸ªç›¸å¯¹çŠ¶æ€çš„ç”¨å¸ƒå°”å€¼(<code>bool</code>)æ¥è¡¨ç¤ºå°±å¯ä»¥äº†</p>
<p><strong> ç„¶åæ˜¯<code>view</code> </strong><br><code>view</code>å°±æ˜¯è§†å›¾,ä¹Ÿå°±æ˜¯å‰ç«¯æ‰€å†™çš„é¡µé¢ï¼Œå‰é¢çš„<code>state</code>å°±å¯ä»¥åœ¨<code>view</code>é‡Œé¢å¾—åˆ°ä½“ç°ï¼Œå³æ˜¯ä½ çœ‹åˆ°çš„æ˜¯å¦å…³æ³¨äº†ä½œè€…</p>
<p><strong> è€Œåæ˜¯<code>Actions</code> </strong><br><code>Actions</code>æ˜¯<code>View</code>ç”¨æ¥æ”¹å˜<code>State</code>çš„æ–¹æ³•ï¼Œé€šè¿‡æ”¹å˜<code>State</code>ä»è€Œæ”¹å˜<code>View</code>çš„æ˜¾ç¤º</p>
<p>è¿™ä¹ˆè¯´æœ‰äº›æŠ½è±¡ï¼Œæ‰“ä¸ªæ¯”æ–¹<br>å‡è®¾å­¦ç”Ÿå°æ˜ç”Ÿç—…äº†<br>å°æ˜è¦å‘ç­ä¸»ä»»è¯·å‡(å°æ˜å°±æ˜¯<code>View</code>ï¼Œå°æ˜æƒ³æ”¹å˜è‡ªå·±çš„æ˜¾ç¤ºçŠ¶æ€ï¼Œä»ä¸Šå­¦çŠ¶æ€å˜æˆè¯·å‡çŠ¶æ€)<br>äºæ˜¯å°æ˜å£å¤´å‘ç­ä¸»ä»»è¯·å‡(è¯·å‡å°±æ˜¯<code>Actions</code>ï¼Œå°æ˜é€šè¿‡è¯·å‡è¿™ä¸€ä¸ªæ–¹æ³•è¾¾åˆ°è¯·å‡çš„ç›®çš„)<br>ç­ä¸»ä»»æ‰¹å‡†ï¼Œå°æ˜è¯·å‡æˆåŠŸ(ç­ä¸»ä»»å°±æ˜¯<code>State</code>çš„æä¾›è€…ï¼Œå°æ˜é€šè¿‡è¯·å‡æ–¹æ³•ä½¿ç­ä¸»ä»»æ”¹å˜å°æ˜çš„<code>State</code>çŠ¶æ€)<br>ç€ä¹Ÿå°±è§£é‡Šäº†ä¸ºä»€ä¹ˆè¦æœ‰è¿™ä¸ªæµç¨‹ï¼Œæœ‰äº†è¿™ä¸ªæµç¨‹å°±å¯ä»¥ç»Ÿä¸€ç®¡ç†å„ä¸ª<code>view</code>çš„å„ä¸ªçŠ¶æ€</p>
<h4 id="vuexå¤šä¸ªç»„ä»¶å…±äº«çŠ¶æ€"><a href="#vuexå¤šä¸ªç»„ä»¶å…±äº«çŠ¶æ€" class="headerlink" title="vuexå¤šä¸ªç»„ä»¶å…±äº«çŠ¶æ€"></a>vuexå¤šä¸ªç»„ä»¶å…±äº«çŠ¶æ€</h4><p>å…ˆè´´ä¸ªæµç¨‹å›¾ï¼Œæ‡µé€¼æ˜¯æ²¡å•¥å…³ç³»çš„<br><img src="http://leenty.com/img/vue/vuex.png" alt="vuexå¤šä¸ªç»„ä»¶å…±äº«çŠ¶æ€"><br>å¯ä»¥çœ‹åˆ°è¿™ä¸€å¼ å›¾æ¯”å‰é¢ä¸€å¼ å¤æ‚äº†è®¸å¤šï¼Œå…¶å®é‡Œé¢çš„å®çº¿æ¡†å°±æ˜¯ä¸Šå›¾çš„å‡çº§ç‰ˆ</p>
<p>æƒ…å†µæ˜¯è¿™æ ·ï¼ŒåŸæ¥å°æ˜å­¦æ ¡é‡Œè¿™æ®µæ—¶é—´è®¸å¤šåŒå­¦å¾—äº†æµæ„Ÿï¼Œäºæ˜¯åŒå­¦ä»¬ä¸€çªèœ‚çš„è¦æ±‚è¯·å‡ï¼Œ<br>å­¦æ ¡é‡Œå› ä¸ºäººå¤ªå¤šï¼Œåˆæ²¡æœ‰ä¸€ä¸ªè®°å½•ï¼Œäººæ•°æ¸…ç‚¹ä¸è¿‡æ¥äº†ï¼Œäºæ˜¯ç­ä¸»ä»»è¦æ±‚è¯·å‡å¿…é¡»æäº¤è¯·å‡æ¡</p>
<p>å¥½çš„ï¼Œæ¥è§£é‡Šä¸‹ä¸Šå›¾å†…çš„å®çº¿éƒ¨åˆ†ï¼Œä¹‹å‰çš„<code>View</code>åœ¨è¿™é‡Œæ”¹åæˆäº†<code>Vue Components</code>,ä»£è¡¨äº†å¤šä¸ªç»„ä»¶(è¿™é‡Œå³æ˜¯æŒ‡å¤šä¸ªåŒå­¦)<br>åŒ…æ‹¬å°æ˜åœ¨å†…çš„å¤šä¸ªåŒå­¦<code>Vue Components</code>éƒ½å¾—äº†æµæ„Ÿï¼Œä¸€èµ·æƒ³è¦è¯·å‡<code>Actions</code>(ä»–ä»¬å³å°†å…±äº«ä¸€ä¸ªè¯·å‡çŠ¶æ€)ï¼Œå°æ˜ä»£è¡¨å¤šä¸ªåŒå­¦å†™äº†ä¸€å¼ è¯·å‡æ¡äº¤ç»™ç­ä¸»ä»»(<code>State</code>æä¾›è€…)ç­¾å­—åŒæ„(ç­¾å­—åŒæ„è¿™ä¸ªåŠ¨ä½œå°±æ˜¯<code>Mutations</code>ï¼Œè§¦å‘äº†<code>State</code>çš„æ”¹å˜),ç­ä¸»ä»»åŒæ„åç»Ÿä¸€ç»™ä»–ä»¬æ”¹å˜äº†<code>State</code>ï¼ˆè¯·å‡æˆåŠŸï¼‰</p>
<p>è¿™é‡Œçš„å¤šäº†ä¸€ä¸ªåŒæ­¥ä¸å¼‚æ­¥çš„åŒºåˆ«ï¼Œå…¶ä¸­<code>Mutations</code>åªå—ç†åŒæ­¥å¤„ç†ï¼Œè€Œ<code>Actions</code>å°±æ˜¯æ‰§è¡Œå¼‚æ­¥æ“ä½œçš„å‡½æ•°ï¼Œä½œä¸ºä»£ä»·ï¼Œ<code>Actions</code>ä¸å†èƒ½ç›´æ¥è§¦å‘æ”¹å˜<code>State</code>çŠ¶æ€ï¼Œè€Œæ˜¯éœ€é€šè¿‡<code>Mutations</code>æ¥è§¦å‘<code>State</code>çš„æ”¹å˜</p>
<p>æƒ…å†µæ˜¯è¿™æ ·ï¼Œå› ä¸ºä¸åªæ˜¯ä¸€ä¸ªç­çš„å­¦ç”Ÿå¾—äº†æµæ„Ÿï¼Œè¯·å‡çš„äººæ¯”è¾ƒå¤šï¼Œå­¦æ ¡<code>Backend API</code>éœ€è¦åšä¸€ä¸ªç»Ÿè®¡ï¼Œäºæ˜¯è¯·å‡éœ€è¦å¾—åˆ°å­¦æ ¡ä¸“é—¨çš„è¯·å‡æ¡çš„å¹¶é€šè¿‡å­¦æ ¡ç­¾å­—æ‰èƒ½ç”Ÿæ•ˆï¼Œè¿™é‡Œå°±æœ‰äº†è™šçº¿éƒ¨åˆ†ã€‚<br>è¯·å‡<code>Actions</code>æ”¹å˜<code>State</code>çš„æ–¹æ³•ä¸å†æ˜¯ä»…ä»…ç­ä¸»ä»»ç­¾å­—å°±å¯ä»¥äº†ï¼Œè€Œæ˜¯éœ€è¦é€šè¿‡å­¦æ ¡è¿™ä¸ªå‰æï¼Œäºæ˜¯<code>Actions</code>å°±å˜æˆäº†ä¸€ä¸ªå¼‚æ­¥è¯·æ±‚ï¼Œéœ€è¦å¾—åˆ°å­¦æ ¡<code>Backend API</code>çš„ä¸“é—¨çš„è¯·å‡æ¡å’Œç­¾å­—åŒæ„åï¼Œæ‰èƒ½å‘ç­ä¸»ä»»æäº¤æ”¹å˜<code>State</code>çš„ç”³è¯·</p>
<p>è¿™é‡Œæƒ³è¦è¡¨è¾¾çš„æ„æ€å°±æ˜¯ï¼Œ<code>Vue Components</code>æ”¹å˜è‡ªèº«çŠ¶æ€éœ€è¦é€šè¿‡<code>Actions</code>ï¼ˆæœ‰éœ€è¦çš„è¯è¦å‘åç«¯æ¥å£<code>Backend API</code>å‘é€è¯·æ±‚ï¼‰æ¥æ“ä½œ<code>Mutations</code>æ”¹å˜<code>State</code>ä»è€Œæ”¹å˜è‡ªèº«çŠ¶æ€ã€‚<br>è‡³äºå›¾ä¸­æ²¡æœ‰è¯´åˆ°çš„<code>Devtools</code>æ˜¯ä¸€ä¸ªå¼€å‘è€…å·¥å…·ï¼Œæ˜¯ä¸€ä¸ªä¾¿äºæŸ¥çœ‹å’Œç®¡ç†vueåº”ç”¨ä»¥åŠvuexçŠ¶æ€çš„æµè§ˆå™¨æ’ä»¶ã€‚<br>ä½ å¯ä»¥åœ¨é‡Œé¢çœ‹åˆ°ä½ vueå¯¹è±¡å’Œvuexæ¯ä¸€æ¬¡çš„commitï¼Œcommitåé¢ä¼šè¯´åˆ°ã€‚è¿˜æœ‰ä½ å½“å‰çš„åº”ç”¨çŠ¶æ€<br><img src="http://leenty.com/img/vue/devtools.png" alt="devtools"><br>é™„ä¸Šä¸€ä¸ª<a href="https://github.com/vuejs/vue-devtools" target="_blank" rel="external">devtoolsåº“åœ°å€</a></p>
<h4 id="æ¶æ„vuex"><a href="#æ¶æ„vuex" class="headerlink" title="æ¶æ„vuex"></a>æ¶æ„vuex</h4><p>é¡¹ç›®ç»“æ„ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">â”œâ”€â”€ main.js</div><div class="line">â”œâ”€â”€ App.vue</div><div class="line">â”œâ”€â”€ components</div><div class="line">â”‚   â”œâ”€â”€ Home.vue</div><div class="line">â”‚   â””â”€â”€ ...</div><div class="line">â””â”€â”€ store</div><div class="line">    â”œâ”€â”€ index.js          # ç»„è£…æ¨¡å—å¹¶å¯¼å‡º store çš„åœ°æ–¹</div><div class="line">    â”œâ”€â”€ actions.js        # æ ¹çº§åˆ«çš„ action</div><div class="line">    â”œâ”€â”€ mutations.js      # æ ¹çº§åˆ«çš„ mutation</div><div class="line">    â”œâ”€â”€ types.js          # mutationå‘½åç©ºé—´</div><div class="line">    â””â”€â”€ modules</div><div class="line">        â”œâ”€â”€ demo.js       # demoæ¨¡å—</div><div class="line">        â””â”€â”€ status.js     # å…¨å±€åº”ç”¨çŠ¶æ€æ¨¡å—</div></pre></td></tr></table></figure></p>
<p>ç»“æ„å¯ä»¥æ ¹æ®ä¸ªäººéœ€è¦è¿›è¡Œè°ƒæ•´</p>
<p><strong> ä¸‹é¢å¼€å§‹æ„å»º<code>store/index.js</code> </strong><br>å½“ç„¶åœ¨è¿™ä¹‹å‰ï¼Œå¦‚æœæ²¡æœ‰å®‰è£…vuexçš„éœ€è¦å…ˆå®‰è£…<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm i vuex -S</div></pre></td></tr></table></figure></p>
<p>ç”±äºvuexçš„å†…å®¹å¤ªå¤šï¼Œè¿™é‡Œå…ˆè¯´åŸºç¡€ç”¨æ³•<br>é¦–å…ˆä¸º<code>store/index.js</code>ç¼–å†™å†…å®¹<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></div><div class="line"><span class="comment">// å¯¼å…¥vue</span></div><div class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">'vuex'</span></div><div class="line"><span class="comment">// å¯¼å…¥vuex</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> status <span class="keyword">from</span> <span class="string">'./modules/status'</span></div><div class="line"><span class="comment">// å¯¼å…¥statusæ¨¡å—ï¼ˆè¿™æ˜¯æˆ‘ç®¡ç†å…¨å±€åº”ç”¨çŠ¶æ€çš„æ¨¡å—ï¼‰</span></div><div class="line"><span class="keyword">import</span> demo <span class="keyword">from</span> <span class="string">'./modules/demo'</span></div><div class="line"><span class="comment">// å¯¼å…¥demoæ¨¡å—ï¼ˆè¿™ä¸ªçš„éƒ¨åˆ†æ¼”ç¤ºå¯ä»¥åœ¨http://vue2.leenty.com/demo/vuex_state/é‡Œçœ‹åˆ°ï¼‰</span></div><div class="line"></div><div class="line">Vue.use(Vuex)</div><div class="line"><span class="comment">// å‘Šè¯‰vueå°†è¦ä½¿ç”¨vuex</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> debug = process.env.NODE_ENV !== <span class="string">'production'</span></div><div class="line"><span class="comment">// envé‡Œå»è·å–å½“å‰çš„ç¯å¢ƒæ˜¯å¦éœ€è¦å¼€å¯ä¸¥æ ¼æ¨¡å¼</span></div><div class="line"><span class="comment">// åœ¨å‘å¸ƒç¯å¢ƒå¼€å¯ä¸¥æ ¼æ¨¡å¼ä¼šé€ æˆæ€§èƒ½ä¸Šä¸å¿…è¦çš„æŸå¤±</span></div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</div><div class="line"><span class="comment">// é»˜è®¤å¯¼å‡ºvuexæ¨¡å—</span></div><div class="line">  modules: &#123;</div><div class="line">  <span class="comment">// å¯¼å…¥æ¨¡å—</span></div><div class="line">    status,</div><div class="line">    demo</div><div class="line">  &#125;,</div><div class="line">  strict: debug</div><div class="line">  <span class="comment">// æ˜¯å¦å¼€å¯ä¸¥æ ¼æ¨¡å¼</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p><strong> æ„å»ºstateæ¨¡å— </strong><br>è¿™é‡Œä»¥<code>demo.js</code>ä¸ºä¾‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> * <span class="keyword">as</span> types <span class="keyword">from</span> <span class="string">'../types'</span></div><div class="line"><span class="comment">// å¯¼å…¥mutationsçš„å‘½åç©ºé—´</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> state = &#123;</div><div class="line"><span class="comment">// å®šä¹‰state</span></div><div class="line">  demoFollow: <span class="literal">false</span>,</div><div class="line">  <span class="comment">// è¿™é‡Œæ¨¡æ‹Ÿçš„æ˜¯å…³æ³¨çš„çŠ¶æ€ï¼Œå¸ƒå°”å€¼è¡¨ç¤ºæ˜¯å¦å…³æ³¨</span></div><div class="line">  demoFollowPending: <span class="literal">false</span></div><div class="line">  <span class="comment">// æ˜¯å¦åœ¨è¯·æ±‚ä¸­(actionsæ˜¯å¦åœ¨æ‰§è¡Œå¼‚æ­¥æ“ä½œ)</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> getters = &#123;</div><div class="line"><span class="comment">// å®šä¹‰getters, gettersæ˜¯å¯¹stateçš„æ‰©å±•ï¼Œå¯ä»¥ä»¥stateè¡ç”Ÿå‡ºå…¶ä»–çŠ¶æ€</span></div><div class="line">  demoFollowStatus: state =&gt; state.demoFollow ? <span class="string">'å·²å…³æ³¨'</span> : <span class="string">'æœªå…³æ³¨'</span></div><div class="line">  <span class="comment">// demoFollowStatusæ˜¯demoFollowçš„è¡ç”Ÿé‡ï¼Œå°†åŸæ¥çš„å¸ƒå°”å€¼æ˜ å°„ä¸º'å·²å…³æ³¨' : 'æœªå…³æ³¨'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> mutations = &#123;</div><div class="line"><span class="comment">// åªæœ‰mutationsæ‰èƒ½æ“ä½œæ”¹å˜stateï¼Œmutationsæ˜¯åŒæ­¥æ‰§è¡Œçš„</span></div><div class="line"><span class="comment">// æ‰€ä»¥æœ‰å…³å¼‚æ­¥çš„æ“ä½œè¯·æ”¾åœ¨actionsé‡Œæ‰§è¡Œ</span></div><div class="line">  [types.DEMO__VUEX_FOLLOW] (state, status = <span class="literal">NaN</span>) &#123;</div><div class="line">  <span class="comment">// ä½¿ç”¨é¢„å®šä¹‰å¥½çš„åå­—æ¥å†™mutationsæ–¹æ³•</span></div><div class="line">    state.demoFollow = <span class="built_in">isNaN</span>(status) ? !state.demoFollow : status</div><div class="line">  &#125;,</div><div class="line">  [types.DEMO__VUEX_FOLLOW_PENDING] (state, status = <span class="literal">NaN</span>) &#123;</div><div class="line">  <span class="comment">// è¿™é‡Œå¯¹statusä¼ å€¼åšäº†å®¡æŸ¥ï¼Œå¦‚æ²¡æœ‰ä¼ ï¼Œåˆ™å¯¹è¦æ”¹å˜çš„å¸ƒå°”å€¼è¿›è¡Œå–åæ“ä½œ</span></div><div class="line">    state.demoFollowPending = <span class="built_in">isNaN</span>(status) ? !state.demoFollowPending : status</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> actions = &#123;</div><div class="line"><span class="comment">// actionsæ˜¯å¯ä»¥æ‰§è¡Œå¼‚æ­¥æ“ä½œçš„ï¼Œæ“ä½œå®Œæ¯•åè§¦å‘mutationsé‡Œçš„æ–¹æ³•å»æ”¹å˜stateçš„çŠ¶æ€</span></div><div class="line">  demoFollowAjax (&#123;commit&#125;, status) &#123;</div><div class="line">    commit(types.DEMO__VUEX_FOLLOW_PENDING)</div><div class="line">    <span class="comment">// åœ¨å¼‚æ­¥æ“ä½œå‰é€šè¿‡mutationså‘Šè¯‰åº”ç”¨ï¼Œç°åœ¨æ­£åœ¨è¿›è¡Œå¼‚æ­¥æ“ä½œ</span></div><div class="line">    setTimeout(() =&gt; &#123;</div><div class="line">      <span class="comment">// åˆ©ç”¨å»¶æ—¶å‡½æ•°æ¨¡æ‹Ÿå¼‚æ­¥çš„ajaxæ“ä½œ</span></div><div class="line">      commit(types.DEMO__VUEX_FOLLOW_PENDING)</div><div class="line">      <span class="comment">// commit æ˜¯åœ¨actionsé‡Œç”¨æ¥è§¦å‘mutationsçš„æ–¹æ³•</span></div><div class="line">      <span class="comment">// å‘Šè¯‰åº”ç”¨ï¼Œå¼‚æ­¥æ“ä½œç»“æŸ</span></div><div class="line">      commit(types.DEMO__VUEX_FOLLOW, status)</div><div class="line">      <span class="comment">// ä¸ºå…³æ³¨æŒ‰é’®èµ‹äºˆæ–°çš„çŠ¶æ€</span></div><div class="line">    &#125;, <span class="number">2000</span>)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</div><div class="line"><span class="comment">// å¯¼å‡ºæ•´ä¸ªdemoæ¨¡å—</span></div><div class="line">  state,</div><div class="line">  getters,</div><div class="line">  actions,</div><div class="line">  mutations</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong> è¿™é‡Œè§£é‡Šä¸‹mutationsé‡Œçš„æ–¹æ³•çš„å¥‡æ€ªå†™æ³•ï¼Œæˆ‘çŸ¥é“å¦‚æœå¯¹es6äºæ³•äº†è§£ä¸å¤šè¿™é‡Œæ˜¯ä¼šæ‡µé€¼çš„ </strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> mutations = &#123;</div><div class="line">  [types.DEMO__VUEX_FOLLOW] (state, status = <span class="literal">NaN</span>) &#123;</div><div class="line">    state.demoFollow = <span class="built_in">isNaN</span>(status) ? !state.demoFollow : status</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>è¿™æ˜¯å¯¹è±¡å†…æ–¹æ³•çš„ç®€åŒ–å†™æ³•ï¼Œå…¶ä¸­<code>types.DEMO__VUEX_FOLLOW</code>æ˜¯åœ¨<code>types.js</code>é‡Œé¢„å®šä¹‰çš„ï¼Œå†…å®¹å¦‚ä¸‹<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">export</span> <span class="keyword">const</span> DEMO__VUEX_FOLLOW = <span class="string">'DEMO__VUEX_FOLLOW'</span></div><div class="line"><span class="keyword">export</span> <span class="keyword">const</span> DEMO__VUEX_FOLLOW_PENDING = <span class="string">'DEMO__VUEX_FOLLOW_PENDING'</span></div><div class="line"><span class="comment">// å…¶å®å°±æ˜¯å­—ç¬¦ä¸²é›†åˆï¼Œæœ€åç”¨ import * as types from '../types' æ–¹æ³•å¯¼å…¥vuexæ¨¡å—é‡Œ</span></div><div class="line"><span class="comment">// å°±å˜æˆäº†ä¸€ä¸ªtypeså¯¹è±¡</span></div></pre></td></tr></table></figure></p>
<p>ä¸Šä¾‹ä¸­å…¨éƒ¨å±•å¼€æ˜¯è¿™æ ·çš„<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> mutations = &#123;</div><div class="line">  [types.DEMO__VUEX_FOLLOW]: (state, status = <span class="literal">NaN</span>) =&gt; &#123;</div><div class="line">  <span class="comment">// [types.DEMO__VUEX_FOLLOW]æ˜¯æå–types.DEMO__VUEX_FOLLOWçš„å€¼çš„ä¸€ç§æ–¹å¼</span></div><div class="line">  <span class="comment">// åœ¨è¿™é‡Œ[types.DEMO__VUEX_FOLLOW]æå–å‡ºæ¥å°±æ˜¯types.jsé‡Œé¢„å®šä¹‰çš„'DEMO__VUEX_FOLLOW'</span></div><div class="line">    <span class="keyword">if</span> (<span class="built_in">isNaN</span>(status)&#123;</div><div class="line">      state.demoFollow = !state.demoFollow</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      state.demoFollow = status</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>å¥½ï¼Œåˆ°æ­¤ä¸ºæ­¢ï¼Œvuexå°±å·²ç»å»ºç«‹å¥½äº†ï¼Œä¸‹é¢å°±è¯´å¦‚ä½•ä½¿ç”¨äº†</p>
<h4 id="åº”ç”¨çŠ¶æ€çš„ä½¿ç”¨ä¸æ”¹å˜"><a href="#åº”ç”¨çŠ¶æ€çš„ä½¿ç”¨ä¸æ”¹å˜" class="headerlink" title="åº”ç”¨çŠ¶æ€çš„ä½¿ç”¨ä¸æ”¹å˜"></a>åº”ç”¨çŠ¶æ€çš„ä½¿ç”¨ä¸æ”¹å˜</h4><p>vuexæä¾›äº†4ä¸ªè¾…åŠ©å‡½æ•°<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; mapState, mapGetters, mapActions, mapMutations &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></div></pre></td></tr></table></figure></p>
<p>æ˜¯åˆ†åˆ«ç”¨æ¥è·å–<code>State, Getters, Actions, Mutations</code>çš„mapæ–¹æ³•<br>åœ¨vue Componentsé‡Œé¢ä½ å¯ä»¥ä»¥è¿™æ ·çš„æ–¹å¼æ¥å¯¼å…¥éœ€è¦ä½¿ç”¨çš„æ–¹æ³•</p>
<p>è¿™4ä¸ªæ–¹æ³•æ‹¥æœ‰ç»Ÿä¸€çš„å‚æ•°æ ¼å¼ä»¥åŠä¸€ä¸ªç»Ÿä¸€çš„è¿”å›æ ¼å¼<br>å¯ä»¥ä¼ å…¥ä¸€ä¸ªæ•°ç»„<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">mapGetters([<span class="string">'demoFollowStatus'</span>])</div><div class="line"><span class="comment">// æ­¤æ–¹æ³•å¯¼å‡ºçš„æ˜¯ä¸€ä¸ªGetterså¯¹è±¡</span></div><div class="line">mapGetters(&#123;</div><div class="line">  demoFollow: <span class="string">'demoFollowStatus'</span></div><div class="line">&#125;)</div><div class="line"><span class="comment">// å¯ä»¥é€šè¿‡ä¼ å…¥å¯¹è±¡çš„å½¢å¼æ¥æ”¹å˜å¾—åˆ°çš„gettersæ–¹æ³•å</span></div></pre></td></tr></table></figure></p>
<p>åŒç†ï¼Œä¸åŒçš„mapæ–¹æ³•ä¼šå¯¼å‡ºå„è‡ªçš„æ–¹æ³•<br>å…¶ä¸­<code>mapState, mapGetters</code>å°†ä¼šå¯¼å‡ºé€‚ç”¨äº<code>computed</code>çš„æ–¹æ³•<br>è€Œ<code>mapMutations, mapActions</code>å°†ä¼šå¯¼å‡ºé€‚ç”¨äº<code>methods</code>çš„æ–¹æ³•</p>
<p>è¿™é‡Œä»¥ä¸€ä¸ªdemoç»„ä»¶ä¸ºä¾‹<a href="https://github.com/leenty/vue2/blob/master/src/components/DemoVuexState.vue" target="_blank" rel="external">DemoVuexState.vue</a><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123; mapState, mapGetters, mapMutations, mapActions &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</div><div class="line">  data () &#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">    &#125;</div><div class="line">  &#125;,</div><div class="line">  computed: &#123;</div><div class="line">  <span class="comment">// vueçš„è®¡ç®—å±æ€§ï¼Œè®¡ç®—å±æ€§å†…æ–¹æ³•çš„ç§æœ‰å˜é‡å˜åŠ¨ä¼šè§¦å‘è¿™ä¸ªå±æ€§çš„é‡æ–°è®¡ç®—</span></div><div class="line">    ...mapState(&#123;</div><div class="line">      mapStateFollow: (&#123;demo&#125;) =&gt; demo.demoFollow,</div><div class="line">      mapStateFollowPending: (&#123;demo&#125;) =&gt; demo.demoFollowPending</div><div class="line">    &#125;),</div><div class="line">    <span class="comment">// mapState()ç›´æ¥è¯»å–Stateé‡Œçš„çŠ¶æ€å†…å®¹</span></div><div class="line">    ...mapGetters([<span class="string">'demoFollowStatus'</span>])</div><div class="line">    <span class="comment">// mapGetters()é€šè¿‡gettersè½¬åŒ–stateä»è€Œå¾—åˆ°ä½ æƒ³è¦çš„å†…å®¹</span></div><div class="line">  &#125;,</div><div class="line">  methods: &#123;</div><div class="line">  <span class="comment">// vueçš„æ–¹æ³•ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªäº‹ä»¶çš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªvuexçš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°</span></div><div class="line">    ...mapMutations([<span class="string">'DEMO__VUEX_FOLLOW'</span>]),</div><div class="line">    <span class="comment">// åŒæ­¥çš„æ”¹å˜çŠ¶æ€</span></div><div class="line">    ...mapActions([<span class="string">'demoFollowAjax'</span>])</div><div class="line">    <span class="comment">// å¼‚æ­¥çš„æ”¹å˜çŠ¶æ€</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>è¿™æ®µä»£ç æ˜¯ä¸€ä¸ªdemoé‡Œçš„ç‰‡æ®µï¼Œæ•ˆæœå¤§å®¶å¯ä»¥çœ‹<a href="http://vue2.leenty.com/demo/vuex_state" target="_blank" rel="external">è¿™ä¸ªå‘†èŒ</a>ï¼Œå¦‚æœå¼€å¿ƒäº†å¯ä»¥åœ¨<a href="https://github.com/leenty/vue2" target="_blank" rel="external">githubåº“é‡ŒåŠ ä¸ªæ˜Ÿ</a>ï¼Œå¦‚æœæœ‰é—®é¢˜å¯ä»¥åœ¨ä¸‹æ–¹è¯„è®ºé‡Œè®¨è®ºè®¨è®ºğŸ˜€</p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/12/04/vue2-4/" class="archive-article-date">
  	<time datetime="2016-12-04T12:35:32.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-12-04</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vuejs/">vuejs</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vuex/">vuex</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-vue2-3" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/27/vue2-3/">vue2.0ä¸€èµ·åœ¨æ‡µé€¼çš„æµ·æ´‹é‡Œè¶Šé™·è¶Šæ·±ï¼ˆä¸‰ï¼‰</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <!-- [](https://chrome.google.com/webstore/detail/markdown-here/elifhakcjgalahccnjkneoccemfahfoa/related) -->
<p>æœ¬æ–‡ç« ç³»åˆ—ï¼š<a href="http://leenty.com/tags/vuejs/" target="_blank" rel="external">vue2.0ä¸€èµ·åœ¨æ‡µé€¼çš„æµ·æ´‹é‡Œè¶Šé™·è¶Šæ·± (http://leenty.com/tags/vuejs/)</a><br>å‰é¢å†™äº†vue-routerç»„ä»¶çš„åˆæ­¥ç”¨æ³•ï¼ŒåŸæ¥è¿™æ¬¡æƒ³å†™vuexçš„ï¼Œä½†æ˜¯æƒ³æƒ³è¿˜æ˜¯å…ˆç»§ç»­æŠŠvue-routerå†™å®Œå§ğŸ¤”<br><img src="http://leenty.com/img/vue/chiss.jpg" alt="vue2.0"></p>
<h3 id="ä¸Šå›è¯´åˆ°-vue-routerçš„åŸºæœ¬ç”¨æ³•ï¼Œä¸‹é¢ç»§ç»­æ·±å…¥"><a href="#ä¸Šå›è¯´åˆ°-vue-routerçš„åŸºæœ¬ç”¨æ³•ï¼Œä¸‹é¢ç»§ç»­æ·±å…¥" class="headerlink" title="ä¸Šå›è¯´åˆ°: vue-routerçš„åŸºæœ¬ç”¨æ³•ï¼Œä¸‹é¢ç»§ç»­æ·±å…¥"></a>ä¸Šå›è¯´åˆ°: vue-routerçš„åŸºæœ¬ç”¨æ³•ï¼Œä¸‹é¢ç»§ç»­æ·±å…¥</h3><p>å•Šä¸ï¼æ˜¯ç»§ç»­å‘ç€æ‡µé€¼æµ·æ´‹çš„æµ·åº•ç»§ç»­ä¸‹æ²‰ï¼Œå“ˆå“ˆå“ˆå“ˆ<br>å‰é¢å·²ç»è®¾ç½®äº†ä¸¤ä¸ªè·¯ç”±ï¼Œä¸€ä¸ªæ˜¯é¦–é¡µï¼Œä¸€ä¸ªæ˜¯æ–‡ç« é¡µï¼Œç°åœ¨åœ¨å¼€ä¸€ä¸ªæ¼”ç¤ºé¡µçš„è·¯ç”±<br>é¦–é¡µä»¥åé¡¶å¤šå°±å±•ç¤ºä¸‹å¤§è‡´çš„æ–°å†…å®¹ï¼Œæ–‡ç« é¡µé¡¶å¤šæ”¾æ”¾æ–‡ç« è¯¦æƒ…<br>è¿™æ¼”ç¤ºé¡µå¯å°±å‰å®³äº†ï¼Œæ¥ä¸‹æ¥çš„ä¸€äº›æ¼”ç¤ºéƒ½ä¼šæ”¾åœ¨è¿™é‡Œï¼Œå…·ä½“çš„å¸ƒå±€è¿˜æ²¡æƒ³å¥½ï¼Œå…ˆè¿™ä¹ˆç”¨ç€å§ï¼</p>
<h3 id="vue-routerçš„è¶…é“¾æ¥æ ‡ç­¾â€œrouter-linkâ€"><a href="#vue-routerçš„è¶…é“¾æ¥æ ‡ç­¾â€œrouter-linkâ€" class="headerlink" title="vue-routerçš„è¶…é“¾æ¥æ ‡ç­¾â€œrouter-linkâ€"></a>vue-routerçš„è¶…é“¾æ¥æ ‡ç­¾â€œrouter-linkâ€</h3><p>åœ¨vue1.0ç‰ˆæœ¬çš„è¶…é“¾æ¥æ ‡ç­¾è¿˜æ˜¯åŸæ¥çš„<code>a</code>æ ‡ç­¾ï¼Œé“¾æ¥åœ°å€ç”±<code>v-link</code>å±æ€§æ§åˆ¶(å…·ä½“çš„è¿™é‡Œä¹Ÿä¸å¤šè¯´äº†ï¼Œvue1.0å·²ç»è¿‡å»å•¦)<br>è€Œvue2.0ç‰ˆæœ¬é‡Œè¶…é“¾æ¥æ ‡ç­¾ç”±<code>a</code>æ ‡ç­¾è¢«æ›¿æ¢æˆäº†<code>router-link</code>æ ‡ç­¾ï¼Œå½“ç„¶ï¼Œæ²¡æœ‰å¿…è¦ä¸ç”¨æ‹…å¿ƒä»€ä¹ˆï¼Œå› ä¸ºæœ€åæ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šçš„è®¾ç½®çš„è¯ï¼Œ<code>router-link</code>æ ‡ç­¾è¿˜æ˜¯ä¼šè¢«æ¸²æŸ“æˆ<code>a</code>æ ‡ç­¾çš„ã€‚<br>è‡³äºä¸ºä»€ä¹ˆåœ¨vue2.0çš„æ—¶å€™è¢«æ›¿æ¢æˆäº†<code>router-link</code>æ ‡ç­¾å‘¢ï¼Ÿ<br>å¤§è‡´YYäº†ä¸‹ï¼Œéƒ¨åˆ†æƒ…èŠ‚åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p>
<ul>
<li>æœ€ä¸»è¦æƒ…å†µï¼Œåœ¨ä¸Šä¸ªç‰ˆæœ¬ä¸­ï¼Œé“¾æ¥åªèƒ½ä»¥<code>a</code>æ ‡ç­¾çš„å½¢å¼å­˜åœ¨ï¼Œä¸èƒ½æ»¡è¶³ä¸€äº›ç‰¹æ®Šçš„è¦æ±‚ï¼Œæ¯”å¦‚åœ¨åˆ—è¡¨(<code>ul&gt;li</code>)ä¸‹ï¼Œä½ éœ€è¦ä¸ºåœ¨é‡Œä¸‹é¢å†åŠ ä¸Šä¸€ä¸ª<code>a</code>é“¾æ¥æ‰èƒ½å®Œæˆç‚¹å‡»åˆ—è¡¨è·³è½¬é¡µé¢ï¼Œso2.0ç‰ˆæœ¬ä¸­è·¯ç”±ä»<code>a</code>æ ‡ç­¾å˜æˆäº†å¯ä»¥ä»»æ„æ¸²æŸ“æˆå„ç§å…ƒç´ çš„<code>router-link</code>æ ‡ç­¾ï¼Œå¦‚æ­¤ä¸€æ¥ï¼Œå°±å¯ä»¥ç›´æ¥æ¸²æŸ“æˆ<code>li</code>æ ‡ç­¾ï¼Œçœä¸‹äº†<code>a</code>æ ‡ç­¾(å…·ä½“æ€ä¹ˆåšä¸‹é¢ä¼šç»Ÿä¸€è¯´æ˜)</li>
<li>ä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨æ­£å¸¸<code>a</code>æ ‡ç­¾å†™æ³•åšé“¾æ¥è·³è½¬å‘¢ï¼Ÿå½“ç‚¹å‡»æ­£å¸¸çš„<code>a</code>é“¾æ¥æ—¶ï¼Œå°±ä¼šæ„Ÿè§‰åˆ°é¡µé¢è·³è½¬æ—¶çš„é¡µé¢åˆ·æ–°é‡è½½çš„æ„Ÿè§‰ï¼Œå› ä¸ºè¿™ä¸ª<code>a</code>æ ‡ç­¾å¹¶æ²¡æœ‰è¢«vue-routeræ‰€ç›‘å¬åˆ°äº‹ä»¶çš„è§¦å‘ï¼Œæ‰€ä»¥å°±ä¼šå‘ç”Ÿæ­£å¸¸çš„é¡µé¢è·³è½¬ï¼Œæ‰€ä»¥é¡µé¢å°±ä¼šé‡è½½ã€‚é‚£æ˜¯ä¼ ç»Ÿçš„ç½‘é¡µä¸Šæ‰ä¼šå‘ç”Ÿçš„äº‹ã€‚ä½¿ç”¨äº†vue-routerç»„ä»¶æ‰€æä¾›çš„<code>router-link</code>åï¼Œé¡µé¢å†…çš„aæ ‡ç­¾å°±ä¼šè¢«vueæ‰€ç›‘å¬ï¼Œä»¥ä¾¿åœ¨ç”¨æˆ·ç‚¹å‡»é“¾æ¥çš„æ—¶å€™é˜»æ­¢æµè§ˆå™¨çš„é»˜è®¤è·³è½¬è¡Œä¸ºï¼Œè€Œè½¬ä¸ºæ— åˆ·æ–°åŠ è½½çš„æ–¹å¼ã€‚å½“ç„¶è¿™åªä½œç”¨äºè‡ªå·±çš„ç«™ç‚¹å†…ã€‚</li>
</ul>
<h3 id="â€œrouter-linkâ€æ ‡ç­¾çš„å±æ€§-Props"><a href="#â€œrouter-linkâ€æ ‡ç­¾çš„å±æ€§-Props" class="headerlink" title="â€œrouter-linkâ€æ ‡ç­¾çš„å±æ€§(Props)"></a>â€œrouter-linkâ€æ ‡ç­¾çš„å±æ€§(Props)</h3><p>æ²¡é”™ï¼Œåªè¦æ˜¯æ ‡ç­¾ï¼Œå¤šå¤šå°‘å°‘éƒ½æ˜¯æœ‰å±æ€§çš„ï¼Œæœ€æ¬¡classå’Œidå±æ€§ä¹Ÿæ˜¯å¯ä»¥æ·»åŠ çš„ã€‚<br>ä¸‹é¢è¯´è¯´<code>router-link</code>æ ‡ç­¾çš„å„ä¸ªå±æ€§</p>
<h4 id="â€œtoâ€å±æ€§"><a href="#â€œtoâ€å±æ€§" class="headerlink" title="â€œtoâ€å±æ€§"></a>â€œtoâ€å±æ€§</h4><p><code>to</code>å±æ€§æœ€ç®€å•çš„ç”¨æ³•å°±æ˜¯å¦‚<code>a</code>æ ‡ç­¾é‡Œçš„<code>href</code>å±æ€§ä¸€æ ·çš„å¡«å†™ï¼Œç®€å•ç²—æš´ï¼Œæƒ³å»å“ªå°±å»å“ªã€‚<br>å…¶å®ï¼Œ<code>to</code>å±æ€§çš„å€¼å¯ä»¥æœ‰ä¸¤ç§ï¼š</p>
<p><strong> å…¶ä¸€ä¸ºå­—ç¬¦ä¸²å½¢å¼ï¼Œä¹Ÿå°±æ˜¯å‰é¢è¯´åˆ°çš„å¦‚<code>href</code>ä¸€æ ·çš„ç”¨æ³• </strong><br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- å­—ç¬¦ä¸² --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">"/article"</span>&gt;</span>Article<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></div><div class="line"><span class="comment">&lt;!-- æ¸²æŸ“ç»“æœ --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/article"</span>&gt;</span>Article<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p><strong> å…¶äºŒä¸ºå¯¹è±¡å½¢å¼ï¼Œä¸‹é¢çœ‹çœ‹toå±æ€§çš„ å¯¹è±¡çš„ä¸»è¦ç»“æ„ </strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ä¸»è¦ç»“æ„</span></div><div class="line">&#123;</div><div class="line">  name: <span class="string">'Article'</span></div><div class="line">&#125;</div><div class="line">  <span class="comment">// æˆ–è€…</span></div><div class="line">&#123;</div><div class="line">  path: <span class="string">'/article'</span></div><div class="line">&#125;</div><div class="line"><span class="comment">// äºŒè€…é€‰å…¶ä¸­ä¹‹ä¸€ï¼Œå¦‚æœä¸¤ç§éƒ½ä½¿ç”¨ï¼Œé‚£ä¹ˆvueä¼šé€‰æ‹©ä½¿ç”¨nameå­—æ®µ</span></div><div class="line"><span class="comment">// eg</span></div><div class="line">&#123;</div><div class="line">  name: <span class="string">'Article'</span>,</div><div class="line">  path: <span class="string">'/demo'</span></div><div class="line">&#125;</div><div class="line"><span class="comment">// å®é™…æ•ˆæœç­‰åŒäº:</span></div><div class="line">&#123;</div><div class="line">  name: <span class="string">'Article'</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>å¯¹äºé‡Œé¢çš„<code>path</code>å­—æ®µï¼Œå…¶å®å°±æ˜¯å°±æ˜¯æƒ³å»å“ªå°±å»å“ªçš„toå±æ€§å­—ç¬¦ä¸²çš„å¯¹è±¡å½¢å¼<br>è‡³äº<code>name</code>å­—æ®µï¼Œæ˜¯ä¸æ˜¯ä¼šæœ‰äº›æ‡µé€¼ï¼Ÿè¿™ä¸ª<code>name</code>å…¶å®å°±æ˜¯ä¸Šä¸€ç¯‡é‡Œè¯´åˆ°çš„<code>routes.js</code>æ–‡ä»¶é‡Œçš„<code>name</code>å­—æ®µå•¦ï¼<br>å°±æ˜¯è¿™ä¸ªï¼å¡«æˆä¸€æ ·çš„å°±å¥½å•¦ï¼æ³¨æ„å¤§å°å†™å“¦<br><img src="http://upload-images.jianshu.io/upload_images/2005796-74c28829c2945707.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="routes.js-nameå­—æ®µ"></p>
<p><strong> toå±æ€§çš„ å¯¹è±¡çš„å¯é€‰ç»“æ„ </strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  name: <span class="string">'Article'</span>, <span class="comment">// ä¸pathå­—æ®µäºŒé€‰ä¸€</span></div><div class="line">  path: <span class="string">'/article'</span>, <span class="comment">// ä¸nameå­—æ®µäºŒé€‰ä¸€</span></div><div class="line">  params: &#123; <span class="comment">// å¯é€‰å­—æ®µ éšæ€§çš„ä¼ é€’å‚æ•°(å¤šç”¨æ¥é¡µé¢ä¼ å‚)</span></div><div class="line">    userId: <span class="number">123</span> <span class="comment">// ä¼ é€’çš„å‚æ•°demo</span></div><div class="line">  &#125;,</div><div class="line">  query: &#123; <span class="comment">// å¯é€‰å­—æ®µ æŸ¥è¯¢å‚æ•°ï¼Œå°±æ˜¯urlé‡Œâ€˜?â€™ä¹‹åçš„éƒ¨åˆ†</span></div><div class="line">    plan: <span class="string">'private'</span> <span class="comment">// æŸ¥è¯¢å‚æ•°demo</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>å¯ä»¥ä½¿ç”¨chromeæ’ä»¶<a href="https://chrome.google.com/webstore/detail/nhdogjmejiglipccpnnnanhbledajbpd" target="_blank" rel="external">vue.js devtools</a>æ¥æŸ¥çœ‹vueçš„è·¯ç”±çš„paramså‚æ•°ï¼Œå®‰è£…è¿™ä¸ªæ’ä»¶éœ€è¦ç¿»å¢™ä¸‹è½½<br>æˆ–è€…å¯ä»¥å»<a href="https://github.com/vuejs/vue-devtools" target="_blank" rel="external">githubä¸Šä¸‹ä»£ç ç¼–è¯‘æ’ä»¶</a>,å¦‚æœè§‰å¾—éº»çƒ¦ä¹Ÿå¯ä»¥ç™¾åº¦å»å…¶ä»–ç½‘ç«™ä¸‹<br>å¯¹äºå¯é€‰å‚æ•°æ˜¯ä¸æ˜¯ä¼šæœ‰äº›æ‡µï¼Œä¸‹é¢è´´å‡ å¼ å›¾å°±æ˜ç™½äº†<br><img src="http://upload-images.jianshu.io/upload_images/2005796-ad7396a60ead7e5c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æŸ¥çœ‹è·¯ç”±å‚æ•°"><br>å…¶ä¸­<code>params</code>æ˜¯éšæ€§ä¼ é€’ï¼Œ<code>query</code>æ˜¯æ˜¾æ€§ä¼ é€’ã€‚<br><img src="http://upload-images.jianshu.io/upload_images/2005796-f8f925d9b68e6367.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="è·¯ç”±query"><br>çº¢æ¡†éƒ¨åˆ†å°±æ˜¯ä¼ é€’çš„<code>query</code>äº†</p>
<h4 id="â€œreplaceâ€å±æ€§"><a href="#â€œreplaceâ€å±æ€§" class="headerlink" title="â€œreplaceâ€å±æ€§"></a>â€œreplaceâ€å±æ€§</h4><p>é¡¾åæ€ä¹‰ï¼Œreplaceæ˜¯æ›¿æ¢çš„æ„æ€ï¼Œæ‰€ä»¥åœ¨<code>router-link</code>æ ‡ç­¾æ·»åŠ äº†è¿™ä¸ªå±æ€§åï¼Œé¡µé¢åˆ‡æ¢æ—¶ä¸ä¼šç•™ä¸‹å†å²è®°å½•<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">"&#123; path: '/abc'&#125;"</span> <span class="attr">replace</span>&gt;</span><span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h4 id="â€œappendâ€å±æ€§"><a href="#â€œappendâ€å±æ€§" class="headerlink" title="â€œappendâ€å±æ€§"></a>â€œappendâ€å±æ€§</h4><p>appendä¼šæŠŠå½“å‰è·¯å¾„è®¾ç½®ä¸ºç›¸å¯¹è·¯å¾„ï¼Œä½•ä¸ºç›¸å¯¹è·¯å¾„ï¼Ÿæ¯”å¦‚ä½ å½“å‰åœ¨<code>vue2.leenty.com/demo</code>ä¸‹ï¼Œç‚¹å‡»è¿™ä¸ªé“¾æ¥<code>&lt;router-link :to=&quot;{ path: &#39;article&#39;}&quot; append&gt;&lt;/router-link&gt;</code>,å¦‚æœæ²¡å¸¦<code>append</code>å±æ€§ï¼Œé‚£ä¹ˆå°±ä¼šè·³åˆ°<code>vue2.leenty.com/article</code>ä¸‹(hashæ¨¡å¼ä¸‹æ˜¯<code>vue2.leenty.com/#/article</code>)ï¼Œè€Œç°åœ¨å´æ˜¯è·³åˆ°äº†<code>vue2.leenty.com/demo/article</code>ä¸‹ã€‚è¿™ä¸ªå±æ€§ç”¨å¤„ä¸æ˜¯å¾ˆå¤§ï¼Œåœ¨ç‰¹æ®Šæƒ…å†µä¸‹æ‰ä¼šç”¨åˆ°ã€‚<br>æ¨èè¿˜æ˜¯æŠŠè‡ªå·±åœ°å€å†™å…¨ï¼Œä¸è¦ä½¿ç”¨ç›¸å¯¹åœ°å€ï¼Œè¿™æ ·å®¹æ˜“æé”™<br>å¦å¤–åŠ ä¸ªå°æŠ€å·§ï¼Œåœ¨åœ°å€å‰åŠ <code>/</code>èƒ½ä¿è¯æ˜¯è·³è½¬æ ¹ç›®å½•çš„</p>
<h4 id="â€œtagâ€å±æ€§"><a href="#â€œtagâ€å±æ€§" class="headerlink" title="â€œtagâ€å±æ€§"></a>â€œtagâ€å±æ€§</h4><p>å…·æœ‰<code>tag</code>å±æ€§çš„çš„<code>router-link</code>æ ‡ç­¾ä¼šè¢«æ¸²æŸ“ä¸ºç›¸åº”çš„æ ‡ç­¾<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">"/article"</span> <span class="attr">tag</span>=<span class="string">"li"</span>&gt;</span>article<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>å°†ä¼šè¢«æ¸²æŸ“ä¸º<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>article<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>è¿™é‡Œä¸éœ€è¦æ‹…å¿ƒliçš„è·³è½¬é—®é¢˜ï¼Œvueä¼šè‡ªåŠ¨ä¸ºå…¶ç»‘å®šç‚¹å‡»äº‹ä»¶ï¼Œå¹¶è·³è½¬é¡µé¢</p>
<h4 id="â€œactive-classâ€å±æ€§"><a href="#â€œactive-classâ€å±æ€§" class="headerlink" title="â€œactive-classâ€å±æ€§"></a>â€œactive-classâ€å±æ€§</h4><p>è¿™ä¸ªå±æ€§å¦‚å­—é¢æ„æ€ä¸Šè¯´çš„ï¼Œæ˜¯è®¾ç½®æ¿€æ´»é“¾æ¥æ—¶çš„<code>class</code>å±æ€§<br>å³æ˜¯å½“å‰é¡µé¢æ‰€æœ‰ä¸å½“å‰åœ°å€æ‰€åŒ¹é…çš„é“¾æ¥éƒ½ä¼šè¢«æ·»åŠ è¿™ä¸ª<code>class</code>å±æ€§<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">"/article"</span> <span class="attr">active-class</span>=<span class="string">"u-link--Active"</span>&gt;</span>article<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>å¦‚æ­¤ï¼Œåœ¨<code>vue2.leenty.com/article</code>é¡µé¢ä¸‹(hashæ¨¡å¼ä¸‹æ˜¯<code>vue2.leenty.com/#/article</code>)å°±ä¼šè¢«æ¸²æŸ“ä¸º<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/article"</span> <span class="attr">class</span>=<span class="string">"u-link--Active"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p><code>active-class</code>å±æ€§çš„é»˜è®¤å€¼æ˜¯<code>router-link-active</code>,æ‰€ä»¥å¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œå°±ä¼šè¢«æ¸²æŸ“ä¸ºè¿™ä¸ªclass</p>
<p>å…¶å®åœ¨ä¸Šä¸€ç« èŠ‚æœ‰è¯´åˆ°ç»Ÿä¸€çš„è®¾ç½®è¿™ä¸ªactive-classå±æ€§<br>æ‰“å¼€<code>router.js</code>æ–‡ä»¶å°±èƒ½çœ‹åˆ°<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</div><div class="line">  mode: <span class="string">'hash'</span>,</div><div class="line">  linkActiveClass: <span class="string">'u-link--Active'</span>, <span class="comment">// è¿™æ˜¯é“¾æ¥æ¿€æ´»æ—¶çš„class</span></div><div class="line">  routes</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<h4 id="â€œexactâ€å±æ€§"><a href="#â€œexactâ€å±æ€§" class="headerlink" title="â€œexactâ€å±æ€§"></a>â€œexactâ€å±æ€§</h4><p>å¼€å¯<code>router-link</code>çš„ä¸¥æ ¼æ¨¡å¼<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">:to</span>=<span class="string">"/"</span> <span class="attr">exact</span>&gt;</span>home<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>ä¸Šé¢è¿™ä¸ªæ ‡ç­¾å¦‚æœä¸åŠ <code>exact</code>å±æ€§ï¼Œåˆ™ä¼šåœ¨<code>vue2.leenty.com/article</code>é¡µé¢ä¸‹ä¹Ÿä¼šè¢«åŒ¹é…åˆ°ï¼Œ<br>è¿™å´ä¸æ˜¯æˆ‘ä»¬çš„æœ¬æ„,åœ¨åŠ äº†è¿™ä¸ªå±æ€§åå°±ä¼šæ­£ç¡®çš„åŒ¹é…åˆ°<code>vue2.leenty.com</code>ä¸‹</p>
<p>ä»¥ä¸Šä¸ºvue-routerçš„router-linkçš„ä»‹ç»</p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/11/27/vue2-3/" class="archive-article-date">
  	<time datetime="2016-11-27T14:51:49.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-11-27</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue-router/">vue-router</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-vue2-2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/20/vue2-2/">vue2.0ä¸€èµ·åœ¨æ‡µé€¼çš„æµ·æ´‹é‡Œè¶Šé™·è¶Šæ·±ï¼ˆäºŒï¼‰</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>æœ¬æ–‡ç« ç³»åˆ—ï¼š<a href="http://leenty.com/tags/vuejs/" target="_blank" rel="external">vue2.0ä¸€èµ·åœ¨æ‡µé€¼çš„æµ·æ´‹é‡Œè¶Šé™·è¶Šæ·± (http://leenty.com/tags/vuejs/)</a></p>
<h3 id="è¯´å¥½äº†ä¸€èµ·æ‡µé€¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç»§ç»­ä¸‹æ²‰"><a href="#è¯´å¥½äº†ä¸€èµ·æ‡µé€¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç»§ç»­ä¸‹æ²‰" class="headerlink" title="è¯´å¥½äº†ä¸€èµ·æ‡µé€¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç»§ç»­ä¸‹æ²‰"></a>è¯´å¥½äº†ä¸€èµ·æ‡µé€¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç»§ç»­ä¸‹æ²‰</h3><p>åœ¨ä¸Šä¸€ç¯‡é‡Œå·²ç»å°†vue2.0éœ€è¦çš„ä¾èµ–éƒ½è£…é½äº†<br>é‚£ä¹ˆæ¥ä¸‹æ¥<br><img src="http://upload-images.jianshu.io/upload_images/2005796-3fc063c8fb0b1fba.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>å› ä¸ºvueæœ€åç”Ÿæˆçš„é¡µé¢çœ‹ä¼¼é™æ€é¡µé¢(å¯¹äºé™æ€é¡µé¢è¿™é‡Œæœ‰äº›å·é¸¡ç”¨æ³•ï¼Œä¸ç®¡ä½ æ€æ ·ï¼Œåæ­£æˆ‘å·²ç»éœ²å‡ºäº†è¯¡å¼‚çš„å¾®ç¬‘ğŸ˜ï¼Œå†è´´ä¸€ä¸ª<a href="https://github.com/leenty/vue2" target="_blank" rel="external">vue2.0 demoçš„é¡¹ç›®åœ°å€</a>ï¼Œå¤§çˆ·æœ‰å…´è¶£å¯è¿›å»çœ‹çœ‹æ¼”ç¤ºï¼Œå¼€å¿ƒäº†å°±åŠ ä¸ªæ˜Ÿ)ï¼Œå…¶å®å´æ˜¯ä¸ªSPA(å•é¡µé¢åº”ç”¨)<br>æ²¡é”™ï¼å°±æ˜¯ä¸€ä¸ªSPA</p>
<h3 id="ä½œä¸ºä¸€ä¸ªSPAï¼Œå½“ç„¶æœ‰ä¸åŒçš„åœ°æ–¹"><a href="#ä½œä¸ºä¸€ä¸ªSPAï¼Œå½“ç„¶æœ‰ä¸åŒçš„åœ°æ–¹" class="headerlink" title="ä½œä¸ºä¸€ä¸ªSPAï¼Œå½“ç„¶æœ‰ä¸åŒçš„åœ°æ–¹"></a>ä½œä¸ºä¸€ä¸ªSPAï¼Œå½“ç„¶æœ‰ä¸åŒçš„åœ°æ–¹</h3><p>SPAä¸ä¼ ç»Ÿç½‘é¡µåŒºåˆ«çš„åœ°æ–¹æ˜¯SPAå…·æœ‰å‰ç«¯è·¯ç”±æ¥æ¨¡æ‹Ÿé¡µé¢è·³è½¬ï¼Œå½“ç„¶è¿™æ˜¯ä¼—å¤šä¸åŒä¹‹ä¸€ï¼Œè¿™ç¯‡åªè¯´å‰ç«¯è·¯ç”±ã€‚<br>ä¸Šä¸€ç¯‡ä¸­æœ‰å®‰è£…vue-routerç»„ä»¶ï¼Œè¿™ä¸ªå°±æ˜¯vueçš„å‰ç«¯è·¯ç”±<br>vue + vue-routerç®€ç›´æ˜¯çˆ½ï¼Œé¡µé¢è·³è½¬çš„é€Ÿåº¦ç®€ç›´æ˜¯ä¸è¦ä¸è¦çš„<br>ä¸å…‰æ˜¯ç”¨æˆ·ä½“éªŒä¸Šçš„æå‡ï¼Œä½œä¸ºä¸€åå¼€å‘è€…ï¼Œåœ¨ä½¿ç”¨äº†å¦‚vueï¼Œreactç­‰è¿™ç±»MVVMæ¡†æ¶åï¼Œå°±ä¸ä¼šå†æƒ³å›åˆ°jQueryçš„æ—¶ä»£äº†ã€‚</p>
<h3 id="å‰é¢æäº†åŠå¤©ï¼Œç°åœ¨è¦å¼€å§‹codingå•¦ï¼"><a href="#å‰é¢æäº†åŠå¤©ï¼Œç°åœ¨è¦å¼€å§‹codingå•¦ï¼" class="headerlink" title="å‰é¢æäº†åŠå¤©ï¼Œç°åœ¨è¦å¼€å§‹codingå•¦ï¼"></a>å‰é¢æäº†åŠå¤©ï¼Œç°åœ¨è¦å¼€å§‹codingå•¦ï¼</h3><p>å¥½çš„ï¼Œç”¨è‡ªå·±çš„å°ç¼–è¾‘å™¨æ‰“å¼€vueé¡¹ç›®ï¼ˆæˆ‘ç”¨çš„æ˜¯sublimeï¼‰<br>å¯ä»¥çœ‹åˆ°é¡¹ç›®ç›®å½•æ˜¯è¿™æ ·å­çš„<br><img src="http://upload-images.jianshu.io/upload_images/2005796-e8d30c83712c89f2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="files-tree"><br>(æ’ä¸€å¥ï¼Œå¦‚æœå–œæ¬¢è¿™ä¸ªsublimeä¸»é¢˜å¯ä»¥<a href="http://leenty.com/2016/10/06/sublime-material-theme/" target="_blank" rel="external">æŸ¥çœ‹è¿™ç¯‡æ–‡ç« </a>)<br>ä¸è‡ªå·±çš„ç›®å½•å¯¹æ¯”å‘ç°å°‘å‡ ä¸ªæ–‡ä»¶ï¼Œé‚£æ˜¯æ²¡æœ‰ä»€ä¹ˆå…³ç³»çš„ï¼Œæ¥ä¸‹æ¥è¦åšçš„å°±æ˜¯å»åˆ›å»ºè¿™äº›æ–‡ä»¶ã€‚</p>
<h3 id="ä½œä¸ºä¸€ä¸ªSPAï¼Œé¦–å…ˆè¦æœ‰è·¯ç”±"><a href="#ä½œä¸ºä¸€ä¸ªSPAï¼Œé¦–å…ˆè¦æœ‰è·¯ç”±" class="headerlink" title="ä½œä¸ºä¸€ä¸ªSPAï¼Œé¦–å…ˆè¦æœ‰è·¯ç”±"></a>ä½œä¸ºä¸€ä¸ªSPAï¼Œé¦–å…ˆè¦æœ‰è·¯ç”±</h3><p>ä»ç›®å½•å›¾ç‰‡é‡Œå¯ä»¥çœ‹åˆ°<code>main.js</code>è¿™ä¸ªæ–‡ä»¶ï¼Œæ²¡é”™è¿™ä¸ªå°±æ˜¯ç¨‹åºçš„å…¥å£<br>è¿™ä¸ªæ–‡ä»¶çš„å†…å®¹æ˜¯è¿™æ ·çš„<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></div><div class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">'./router'</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App'</span></div><div class="line"></div><div class="line"><span class="comment">/* eslint-disable no-new */</span></div><div class="line"><span class="keyword">new</span> Vue(&#123;</div><div class="line">  router,</div><div class="line">  render: h =&gt; h(App)</div><div class="line">&#125;).$mount(<span class="string">'#app'</span>)</div></pre></td></tr></table></figure></p>
<p><a href="https://github.com/leenty/vue2/blob/master/src/main.js" target="_blank" rel="external"><code>main.js</code>åœ°å€</a><br>è¿™é‡Œç”¨çš„æ˜¯ES6çš„è¯­æ³•ï¼Œä½¿ç”¨<code>import</code>æ¥å¯¼å…¥åŒ…<br>è¿™é‡Œå¯¼å…¥äº†vueåŒ…ï¼Œè¿˜æœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼Œåˆ†åˆ«æ˜¯<code>router.js</code>å’Œ<code>App.vue</code><br><code>.js</code>åç¼€æ˜¯å¯ä»¥çœç•¥çš„(æ¯•ç«Ÿæ˜¯äº²ç”Ÿçš„ï¼Œä½ ä¸è¯´å¯¼å…¥ä»€ä¹ˆç±»å‹çš„æ–‡ä»¶ï¼Œè‚¯å®šæ˜¯è‡ªå®¶äººæ¯•ç«Ÿäº²å‘€)<br>å…¶å®<code>.vue</code>åç¼€ä¹Ÿæ˜¯å¯ä»¥çœç•¥çš„ï¼Œæˆ‘å»ºè®®è¿˜æ˜¯å†™ä¸€ä¸‹ï¼Œå¦‚æœé‡åˆ°ä¸¤ä¸ªåŒåæ–‡ä»¶å°±å°´å°¬äº†ã€‚</p>
<p>å¥½çš„ï¼Œè¿™ä¸ª<code>router.js</code>å°±æ˜¯è·¯ç”±çš„è¾“å‡ºå£å•¦ï¼Œ<br><code>App.vue</code>å°±æ˜¯ç›®å½•é‡Œå·²ç»å­˜åœ¨çš„é‚£ä¸ªæ¨¡æ¿æ–‡ä»¶å•¦ï¼Œä½ çš„ç•Œé¢å°±ä»è¿™é‡Œå¼€å§‹å•¦ã€‚<br>å¼•å…¥äº†åŒ…å°±å¯ä»¥å¼€å§‹è®¾ç½®è·¯ç”±å’ŒæŒ‚è½½æ¨¡æ¿äº†</p>
<p>é¡ºå¸¦ä¸€æï¼Œå¯ä»¥çœ‹åˆ°åœ¨<code>new Vue()</code>æ—¶ä¼ å…¥äº†ä¸€ä¸ªå¯¹è±¡ï¼Œä½†æ˜¯è¿™ä¸ªå¯¹è±¡å´ä¸æ˜¯é”®å€¼å¯¹ï¼Œ<br>æ˜¯è¿™æ ·ï¼Œè¿™æ˜¯ES6çš„ä¸€ç§è¯­æ³•ï¼Œå½“å¼•ç”¨çš„å˜é‡åå’Œé”®åç›¸åŒæ—¶ï¼Œå°±å¯ä»¥ç®€å†™æˆè¿™æ ·<br>å¦‚æœè¿˜åŸæ¥æ˜¯è¿™æ ·çš„<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">new</span> Vue(&#123;</div><div class="line">  router: router,</div><div class="line">  render: h =&gt; h(App)</div><div class="line">&#125;).$mount(<span class="string">'app'</span>)</div><div class="line"><span class="comment">// è¢«ç®€å†™æˆäº†</span></div><div class="line"><span class="keyword">new</span> Vue(&#123;</div><div class="line">  router, <span class="comment">// è¿™æ˜¯ES6å¯¹è±¡çš„ç®€å†™ï¼Œæ‰©å±•å¼€å°±æ˜¯router: router</span></div><div class="line">  <span class="comment">// ç®­å¤´å‡½æ•°(=&gt;)æ˜¯ES6çš„æ–°è¯­æ³•</span></div><div class="line">  render: h =&gt; h(App) <span class="comment">// è¿™é‡Œæ‰©å±•å¼€å°±æ˜¯render: (h) =&gt; &#123; return h(App) &#125;</span></div><div class="line">&#125;).$mount(<span class="string">'app'</span>)</div></pre></td></tr></table></figure></p>
<p>PSï¼šES6çš„æ–°è¯­æ³•ç°åœ¨ç½‘ä¸Šæ–‡ç« å·²ç»æœ‰å¾ˆå¤šäº†ï¼Œæˆ‘ä¹‹åä¹Ÿä¼šå‘ä¸€ç‰ˆå¸¸ç”¨çš„è¯­æ³•</p>
<h3 id="é‚£ä¹ˆç°åœ¨åœ¨srcç›®å½•ä¸‹åˆ›å»ºrouter-jsæ–‡ä»¶"><a href="#é‚£ä¹ˆç°åœ¨åœ¨srcç›®å½•ä¸‹åˆ›å»ºrouter-jsæ–‡ä»¶" class="headerlink" title="é‚£ä¹ˆç°åœ¨åœ¨srcç›®å½•ä¸‹åˆ›å»ºrouter.jsæ–‡ä»¶"></a>é‚£ä¹ˆç°åœ¨åœ¨srcç›®å½•ä¸‹åˆ›å»º<code>router.js</code>æ–‡ä»¶</h3><p>å†…å®¹æ˜¯è¿™æ ·çš„ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></div><div class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">'vue-router'</span></div><div class="line"><span class="keyword">import</span> routes <span class="keyword">from</span> <span class="string">'./routes'</span></div><div class="line"></div><div class="line"><span class="comment">// å‘Šè¯‰vueè¦ä½¿ç”¨router</span></div><div class="line">Vue.use(VueRouter)</div><div class="line"></div><div class="line"><span class="comment">/* eslint-disable no-new */</span></div><div class="line"><span class="comment">// å®ä¾‹åŒ–routerå¯¹è±¡</span></div><div class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</div><div class="line">  mode: <span class="string">'hash'</span>, <span class="comment">// è®¾ç½®è·¯ç”±æ¨¡å¼ å¯é€‰å€¼: "hash" | "history" | "abstract"ï¼Œé»˜è®¤"hash"</span></div><div class="line">  linkActiveClass: <span class="string">'u-link--Active'</span>, <span class="comment">// è¿™æ˜¯é“¾æ¥æ¿€æ´»æ—¶çš„class</span></div><div class="line">  <span class="comment">// base: '/app/', // è¿™ä¸ªæ˜¯è®¾ç½®æ ¹ç›®å½•è·¯å¾„ï¼Œä¸€èˆ¬ç”¨ä¸åˆ°ï¼Œé»˜è®¤'/'</span></div><div class="line">  routes <span class="comment">// æŒ‚è½½è·¯ç”±é›†åˆ åé¢ä¼šè¯´</span></div><div class="line">&#125;)</div><div class="line"><span class="comment">// å¯¼å‡ºrouterå¯¹è±¡</span></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</div></pre></td></tr></table></figure></p>
<p><a href="https://github.com/leenty/vue2/blob/master/src/router.js" target="_blank" rel="external">è¿™æ˜¯<code>router.js</code>åœ°å€</a><br>è¿™é‡Œå¼•å…¥äº†ä¸¤ä¸ªåŒ…<code>vue</code>,<code>vue-router</code>å’Œä¸€ä¸ªåŒ…å«è·¯ç”±é›†åˆçš„<code>routes.js</code>æ–‡ä»¶<br>æ•´ä¸ªæ–‡ä»¶çš„é€»è¾‘å°±æ˜¯ï¼Œä½¿ç”¨<code>Vue.use()</code>æ–¹æ³•å‘Šè¯‰vueæˆ‘ä»¬ä½¿ç”¨äº†è·¯ç”±<br>ç„¶åå°±å¤§å¤§æ–¹æ–¹çš„å¯¼å‡ºè·¯ç”±å¯¹è±¡<br><img src="http://upload-images.jianshu.io/upload_images/2005796-ebc26fa935c8cf9a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="main.js router"><br>è¿™ä¸ªæ—¶å€™<code>main.js</code>é‡Œå°±å¯ä»¥æ¥å—åˆ°è¿™é‡Œå¯¼å‡ºçš„è·¯ç”±å¯¹è±¡ï¼Œå¹¶æŒ‚è½½åˆ°vueå¯¹è±¡ä¸Š</p>
<h3 id="åœ¨srcç›®å½•ä¸‹åˆ›å»ºroutes-jsæ–‡ä»¶"><a href="#åœ¨srcç›®å½•ä¸‹åˆ›å»ºroutes-jsæ–‡ä»¶" class="headerlink" title="åœ¨srcç›®å½•ä¸‹åˆ›å»ºroutes.jsæ–‡ä»¶"></a>åœ¨srcç›®å½•ä¸‹åˆ›å»º<code>routes.js</code>æ–‡ä»¶</h3><p><code>routes.js</code>æ˜¯ç”¨æ¥æ”¾ç½®è·¯ç”±é›†åˆçš„æ–‡ä»¶<br>å…¶å®è·¯ç”±é›†åˆæ˜¯å¯ä»¥å†™åœ¨<code>router.js</code>é‡Œçš„ï¼Œè¿™é‡Œä¸ºä»€ä¹ˆä¸å†™åœ¨ä¸€èµ·å‘¢ï¼Ÿ<br>å› ä¸ºå½“è·¯ç”±é›†åˆå˜å¾—åºå¤§æ—¶ï¼Œå¦‚æœè¿˜æ˜¯å†™åœ¨<code>router.js</code>é‡Œï¼Œå°±ä¼šæ˜¾å¾—æ‹¥æŒ¤ï¼Œä¸ä¾¿äºé˜…è¯»<br>æ‰€ä»¥è¿™é‡Œæ¨èå•ç‹¬å†™å‡ºæ¥ã€‚<br>åŒæ—¶å‘¢ä¹Ÿå¯ä»¥åˆ›å»ºè·¯ç”±æ‰€å¯¹åº”çš„æ¨¡æ¿æ–‡ä»¶(<code>.vue</code>æ–‡ä»¶ï¼Œæˆ‘æŠŠå®ƒç§°ä¸ºæ¨¡æ¿æ–‡ä»¶)ï¼Œ<code>Article.vue</code>å’Œ<code>Home.vue</code><br>æ¨¡æ¿æ–‡ä»¶å«ä»€ä¹ˆåç”±è‡ªå·±å†³å®šï¼Œäºæ˜¯å°±èƒ½çœ‹åˆ°è¿™å¼ å›¾é‡Œæ‰€æœ‰æ–‡ä»¶éƒ½é½äº†<br><img src="http://upload-images.jianshu.io/upload_images/2005796-e8d30c83712c89f2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="files-tree"></p>
<p>é‚£ä¹ˆåœ¨ç¼–å†™<code>routes.js</code>æ–‡ä»¶ä¹‹å‰ï¼Œéœ€è¦å…ˆå†™å¥½ä¸¤ä¸ªæ¨¡æ¿çš„å†…å®¹(ä¸ç„¶ä¸€ä¼šæœ‰æ²¡æœ‰æˆåŠŸéƒ½ä¸æ¸…æ¥šäº†ï¼Œ23333)</p>
<p>å¥½çš„ï¼Œè´´ä¸€ä¸‹<code>home.vue</code>çš„å†…å®¹<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">lang</span>=<span class="string">"pug"</span>&gt;</span></div><div class="line">.home</div><div class="line">  h1.l-ta--c Material Desgin</div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</div><div class="line">    data () &#123;</div><div class="line">      <span class="keyword">return</span> &#123;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">"stylus"</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>vueæ¨¡æ¿æ˜¯htmlç»“æ„çš„ï¼Œè¿™ä¹Ÿæ˜¯å¯¹ç•Œé¢ç¼–å†™æœ€å‹å¥½çš„æ–¹å¼<br>é‡Œé¢çš„<code>&lt;template&gt; &lt;/template&gt;</code>æ ‡ç­¾å°±æ˜¯è§†å›¾<br><code>&lt;script&gt;&lt;/script&gt;</code>å°±æ˜¯jsï¼Œè¿™ä¸ªæ²¡æœ‰äº‰è®®<br><code>&lt;style&gt;&lt;/style&gt;</code>æ˜¯å†™cssçš„ï¼Œè¿™ä¸ªä¹Ÿæ²¡æœ‰é—®é¢˜<br>ä½†æ˜¯å½“ä»”ç»†çœ‹æˆ‘çš„ä»£ç ï¼Œå‘ç°é‡Œé¢htmlä½¿ç”¨äº†pugï¼Œcssä½¿ç”¨äº†stylus<br>å…¶å®ä¸ç”¨ä»–ä»¬ä¹Ÿæ˜¯å¯è¡Œçš„ï¼Œåªæ˜¯ç”¨pugå’Œstyluså†™ç»“æ„æ¯”è¾ƒæ¸…æ™°<br>ä¸ç”¨ä¹Ÿå¯ä»¥çš„<br>å¦‚æœè¦ä½¿ç”¨ï¼Œè¯·æ‰“å¼€ä½ çš„ç»ˆç«¯ï¼Œç»™é¡¹ç›®æ·»åŠ å‡ ä¸ªåŒ…<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm i pug stylus stylus-loader -D</div></pre></td></tr></table></figure></p>
<p>é‡Œé¢çš„cssçš„class(<code>.l-ta--c</code>)çœ‹ç€æœ‰ç‚¹æ‡µé€¼çš„ï¼Œå¯ä»¥çœ‹çœ‹<a href="http://www.leenty.com/2016/11/06/css/#main" target="_blank" rel="external">ä½¿ç”¨BEM+emmetçš„cssä¹¦å†™ä¸å‘½åæŠ€å·§</a><br>å¥½çš„ï¼Œæ¨¡æ¿ä¸éœ€è¦å¤ªå¤æ‚ï¼Œåªè¦æœ‰å­—èƒ½æ˜¾ç¤ºå°±å¥½äº†ï¼Œè‡³äº<code>Article.vue</code>ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œè¿™é‡Œå°±ä¸è´´äº†</p>
<p>Tipsï¼šæ¨¡æ¿é‡Œæ¨èæœ‰ä¸€ä¸ªæ ¹å…ƒç´ ï¼Œå°±åƒè¿™é‡Œçš„<code>.home</code>å°±æ˜¯æ ¹å…ƒç´ ï¼Œè¿™æ ·ä¸å®¹æ˜“æ··ä¹±ï¼Œç»“æ„ä¼šæ¸…æ™°</p>
<h3 id="å†™å¥½äº†æ¨¡æ¿å°±å¯ä»¥å¼€å§‹ç¼–å†™routes-jsäº†"><a href="#å†™å¥½äº†æ¨¡æ¿å°±å¯ä»¥å¼€å§‹ç¼–å†™routes-jsäº†" class="headerlink" title="å†™å¥½äº†æ¨¡æ¿å°±å¯ä»¥å¼€å§‹ç¼–å†™routes.jsäº†"></a>å†™å¥½äº†æ¨¡æ¿å°±å¯ä»¥å¼€å§‹ç¼–å†™<code>routes.js</code>äº†</h3><p>å…ˆè´´ä»£ç !<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// å¯¼å…¥ä¹‹å‰å†™å¥½çš„ä¸¤ä¸ªæ¨¡æ¿</span></div><div class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">'./components/Home.vue'</span></div><div class="line"><span class="keyword">import</span> Article <span class="keyword">from</span> <span class="string">'./components/Article.vue'</span></div><div class="line"></div><div class="line"><span class="comment">// ç¼–å†™è·¯ç”±é›†åˆ</span></div><div class="line"><span class="keyword">const</span> routes = [</div><div class="line">  &#123;</div><div class="line">    name: <span class="string">'Home'</span>, <span class="comment">// è·¯ç”±åï¼Œè¿™ä¸ªå­—æ®µæ˜¯å¯é€‰çš„</span></div><div class="line">    path: <span class="string">'/'</span>, <span class="comment">// è·¯ç”±è·¯å¾„ï¼Œè¿™é‡Œæ˜¯æ ¹è·¯å¾„æ‰€ä»¥æ˜¯'/'</span></div><div class="line">    component: Home <span class="comment">// æ¨¡æ¿</span></div><div class="line">  &#125;, <span class="comment">// è¿™äº›æ˜¯å¸¸ç”¨çš„</span></div><div class="line">  &#123;</div><div class="line">    name: <span class="string">'Article'</span>,</div><div class="line">    path: <span class="string">'/article'</span>,</div><div class="line">    component: Article</div><div class="line">  &#125;</div><div class="line">]</div><div class="line"><span class="comment">// å¯¼å‡ºè·¯ç”±é›†åˆ</span></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> routes</div></pre></td></tr></table></figure></p>
<p><a href="https://github.com/leenty/vue2/blob/master/src/routes.js" target="_blank" rel="external">ç„¶åæ˜¯æ–‡ä»¶åœ°å€</a><br>æœ€åå¯¼å‡ºäº†è·¯ç”±é›†åˆ(<code>routes</code>)åå°±å¯ä»¥åœ¨<code>router.js</code>é‡Œä½¿ç”¨äº†<br>äºæ˜¯ï¼Œå‰é¢çš„<code>router.js</code>é‡Œçš„<code>routes</code>å°±æœ‰äº†ã€‚</p>
<h3 id="ç°åœ¨è¿›è¡Œæœ€åä¸€æ­¥ï¼Œåˆ°App-vueé‡Œæ·»åŠ è·¯ç”±"><a href="#ç°åœ¨è¿›è¡Œæœ€åä¸€æ­¥ï¼Œåˆ°App-vueé‡Œæ·»åŠ è·¯ç”±" class="headerlink" title="ç°åœ¨è¿›è¡Œæœ€åä¸€æ­¥ï¼Œåˆ°App.vueé‡Œæ·»åŠ è·¯ç”±"></a>ç°åœ¨è¿›è¡Œæœ€åä¸€æ­¥ï¼Œåˆ°<code>App.vue</code>é‡Œæ·»åŠ è·¯ç”±</h3><p>ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">lang</span>=<span class="string">"pug"</span>&gt;</span></div><div class="line">  .app</div><div class="line">    header</div><div class="line">      //- åˆ¶ä½œä¸€ä¸ªè·³è½¬é“¾æ¥</div><div class="line">      //- è¿™é‡Œä¸è¦ç›´æ¥ç”¨aé“¾æ¥è·³è½¬ï¼Œé‚£æ ·ä¼šå¯¼è‡´é¡µé¢é‡è½½ï¼Œ</div><div class="line">      //- ç›¸æ¯”ä¹‹ä¸‹ç”¨router-linkæ˜¯é«˜æ•ˆçš„æ–¹æ¡ˆ</div><div class="line">      //- toå±æ€§å°±æ˜¯é“¾æ¥çš„åœ°å€å•¦</div><div class="line">      router-link(to="/") home</div><div class="line">      router-link(to="/article") article</div><div class="line">    bodyer</div><div class="line">      //- è·¯ç”±åœ°å€æ‰€å¯¹åº”çš„æ¨¡æ¿å°†ä¼šè¢«æŒ‚è½½åˆ°router-viewæ ‡ç­¾ä¸Š</div><div class="line">      router-view</div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</div><div class="line">    data () &#123;</div><div class="line">      <span class="keyword">return</span> &#123;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">"stylus"</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p><a href="https://github.com/leenty/vue2/blob/master/src/App.vue" target="_blank" rel="external">åœ°å€</a><br>å¥½äº†ï¼Œåˆ°æ­¤ä¸ºæ­¢å°±å®Œæˆäº†è·¯ç”±æ­å»ºä¸ä½¿ç”¨äº†ã€‚</p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/11/20/vue2-2/" class="archive-article-date">
  	<time datetime="2016-11-20T15:41:16.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-11-20</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue-router/">vue-router</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vuejs/">vuejs</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-interesting_button_by_css" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/16/interesting_button_by_css/">ä½¿ç”¨çº¯cssåˆ¶ä½œæœ‰ç‚«é…·äº¤äº’çš„æŒ‰é’®</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="å‰ç«¯å…¥é—¨ç®€å•ï¼ŒçœŸæ­£ç²¾é€šå´ä¸é‚£ä¹ˆå®¹æ˜“"><a href="#å‰ç«¯å…¥é—¨ç®€å•ï¼ŒçœŸæ­£ç²¾é€šå´ä¸é‚£ä¹ˆå®¹æ˜“" class="headerlink" title="å‰ç«¯å…¥é—¨ç®€å•ï¼ŒçœŸæ­£ç²¾é€šå´ä¸é‚£ä¹ˆå®¹æ˜“"></a>å‰ç«¯å…¥é—¨ç®€å•ï¼ŒçœŸæ­£ç²¾é€šå´ä¸é‚£ä¹ˆå®¹æ˜“</h3><p>å°±cssæ¥è¯´ï¼Œä¼šä½¿ç”¨cssåšé¡µé¢å¸ƒå±€ä¹Ÿåªæ˜¯ç¬¬ä¸€æ­¥ï¼Œcssè¿œæ¯”æƒ³è±¡ä¸­çš„è¦å¼ºå¤§ã€‚</p>
<p>jså¾ˆå¤šæ•ˆæœéƒ½å¯ä»¥åˆ©ç”¨csså„ç§å±æ€§å’Œä¼ªå…ƒç´ ï¼Œåˆ¶ä½œå‡ºæ¥ï¼Œè€Œä¸”æ¯”èµ·jsè¿˜è¦æ–¹ä¾¿å¿«é€Ÿ</p>
<p>è¿™æ˜¯ä¸€ä¸ªèœå•æŒ‰é’®çš„æ•ˆæœï¼Œæˆä¸ºç„¦ç‚¹åä¼šå˜æˆä¸€æŠŠå‰ï¼Œåœ¨ç„¦ç‚¹ç§»é™¤åä¼šè¿˜åŸä¼šèœå•å½¢çŠ¶<br>è¿™æ—¶å°±å¯ä»¥é…åˆjsåšçŠ¶æ€ç®¡ç†å†™å‡ºä¸€ä¸ªå®Œæ•´çš„ä¸‹æ‹‰èœå•æˆ–è€…ä¾§æ‹‰èœå•äº†<br>ä¹‹åä¹Ÿä¼šä½¿ç”¨åœ¨æˆ‘çš„vue2.0é¡¹ç›®ä¸­ï¼Œå¦‚æœçˆ·æ‚¨æœ‰å…´è¶£å¯ä»¥<a href="http://vue2.leenty.com" target="_blank" rel="external">ç§»æ­¥åˆ°é¡¹ç›®åœ°å€å¤„è§†å¯Ÿè§†å¯Ÿ</a>ï¼Œå¦‚æœçˆ·å¼€å¿ƒäº†å°±åŠ ä¸ªæ˜Ÿ</p>
<p>å…·ä½“çš„æ•ˆæœæ˜¯è¿™æ ·çš„<br><img src="http://upload-images.jianshu.io/upload_images/2005796-564670324f24a925.gif?imageMogr2/auto-orient/strip" alt="rotate menu button by css"></p>
<iframe height="265" scrolling="no" title="rotate menu button by css" src="//codepen.io/leenty/embed/PbGpEg/?height=265&theme-id=0&default-tab=css,result&embed-version=2" frameborder="no" allowtransparency="true" allowfullscreen="true" style="width: 100%;">See the Pen <a href="http://codepen.io/leenty/pen/PbGpEg/" target="_blank" rel="external">rotate menu button by css</a> by leenty (<a href="http://codepen.io/leenty" target="_blank" rel="external">@leenty</a>) on <a href="http://codepen.io" target="_blank" rel="external">CodePen</a>.<br></iframe><br><a href="http://codepen.io/leenty/pen/PbGpEg" target="_blank" rel="external">è¿™é‡Œæ˜¯menuæŒ‰é’®çš„æ¼”ç¤ºåœ°å€</a><br><br>å†™ä»£ç è¦ä¿¡å¥‰â€œèƒ½å·æ‡’å°±å·æ‡’â€åŸåˆ™ï¼Œåœ¨ä¿è¯å®ç°æ•ˆæœçš„åŸºç¡€ä¸Šï¼Œç»ä¸å¤šå†™ä¸€ä¸ªæ ‡ç­¾ï¼Œå¤šå†™ä¸€æ®µä»£ç <br>æ‰€ä»¥ä¸Šé¢çš„æ•ˆæœå’‹ä¸€çœ‹éœ€è¦è‡³å°‘4ä¸ªæ ‡ç­¾æ‰èƒ½å†™å®Œï¼Œå…¶å®åªç”¨äº†ä¸€ä¸ªæ ‡ç­¾<br>ç”¨buttonæ ‡ç­¾åšçˆ¶å…ƒç´ ï¼Œç”¨ä¸¤ä¸ªä¼ªå…ƒç´ åšä¸¤ä¸ªæ¨ªæ†<br>é—®ï¼šâ€œé‚£è¿˜æœ‰ä¸€ä¸ªæ¨ªæ†å‘¢ï¼Ÿâ€<br>æ˜¯è¿™æ ·ï¼Œé€šè¿‡è§‚å¯Ÿæ•ˆæœå›¾ï¼Œå‘ç°å…¶å®ç”±èœå•å›¾æ ‡å˜æ¢åˆ°Xå›¾æ ‡åªéœ€è¦å…¶ä¸­çš„ä¸¤ä¸ªæ¨ªæ†ã€‚<br>æ‰€ä»¥ç¬¬ä¸‰ä¸ªæ¨ªæ†æˆ‘ä½¿ç”¨äº†box-shadowå±æ€§æ¥æ¨¡æ‹Ÿï¼Œè¯´åˆ°åº•ï¼Œå…¶å®ç¬¬ä¸‰ä¸ªæ¨ªæ†åªæ˜¯ç¬¬äºŒä¸ªæ¨ªæ†çš„æŠ•å½±è€Œå·²<br><br>æ ¸å¿ƒä½¿ç”¨<br><em> å±æ€§ï¼š<code>transform-origin</code>, <code>transform</code>, <code>box-shadow</code>, <code>transition</code>
</em> ä¼ªå…ƒç´ ï¼š<code>:before</code>, <code>:after</code><br><br>ä»£ç æ ‡ç­¾æ˜¯ç”¨pugè¯­æ³•å†™çš„ï¼Œcssæ˜¯stylusè¯­æ³•å†™çš„ï¼Œè¿™ä¸¤ç§è¯­æ³•éƒ½æ¯”è¾ƒç®€å•ï¼Œå¦‚æœä¼šä½¿ç”¨cssé€‰æ‹©å™¨å°±å¯ä»¥çœ‹æ‡‚<br>ä¸‹é¢ä¹Ÿä¼šç®€å•çš„è¯´æ˜ä¸‹<br><br>è¯ä¸å¤šè¯´ï¼Œä¸Šä»£ç <br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">button#btn.b-menu</div><div class="line">// pugè¯­æ³•é‡Œçš„'#'å’Œ'.'åŒcssé‡Œä¸€æ ·'#'ä¸ºidï¼Œ'.'ä¸ºclass</div><div class="line">label(for="btn") click</div><div class="line">// é™¤äº†idä¸classä»¥å¤–çš„å±æ€§è¦å¦‚ä¸Šé¢çš„å½¢å¼å†™åœ¨æ‹¬å·é‡Œ</div><div class="line">    </div><div class="line">// è¿™é‡Œæ‰©å±•å‡ºæ¥å°±æ˜¯</div><div class="line">// &lt;button id="btn" class="b-menu"&gt;&lt;/button&gt;</div><div class="line">// &lt;label for="btn"&gt;click&lt;/label&gt;</div></pre></td></tr></table></figure><br><br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line">// stylusæ˜¯cssçš„é¢„ç¼–è¯‘å™¨çš„ä¸€ç§ï¼Œç®€åŒ–äº†cssçš„å†™æ³•ï¼Œç»“æ„æ›´åŠ æ¸…æ™°</div><div class="line">// è¿™é‡Œå°±ä¸è¿‡å¤šçš„é™ˆè¿°äº†ï¼Œæœ‰ç–‘é—®å¯ä»¥ä¸‹æ–¹ç•™è¨€è¯¢é—®</div><div class="line"> </div><div class="line">// å…ˆå»é™¤buttonçš„é»˜è®¤æ ·å¼</div><div class="line">button</div><div class="line">  border none</div><div class="line">  outline none</div><div class="line">  box-shadow none</div><div class="line">  background none</div><div class="line">  color currentColor</div><div class="line">  padding 0</div><div class="line">  cursor pointer</div><div class="line"> </div><div class="line">// å…³é”®çš„éƒ¨åˆ†å¼€å§‹äº†</div><div class="line">.b-menu</div><div class="line">  width 25px</div><div class="line">  height 25px</div><div class="line">  position relative</div><div class="line">  &amp;:before, // beforeæ˜¯ç¬¬ä¸€æ¨ªæ†ï¼Œafteræ˜¯ç¬¬äºŒä¸ªæ¨ªæ†</div><div class="line">  &amp;:after // stylusé‡Œçš„&amp;è¡¨ç¤ºæ‰¿æ¥ä¸Šæ–‡çš„æ„æ€,è¿™é‡Œä¹Ÿå°±ç­‰åŒäº.b-menu:after</div><div class="line">    content ' '</div><div class="line">    position absolute // ä½¿ç”¨ç»å¯¹å®šä½åˆ°ç›®æ ‡ä½ç½®</div><div class="line">    background-color #fff</div><div class="line">    display block</div><div class="line">    width 100%</div><div class="line">    height 3px</div><div class="line">    left 0</div><div class="line">    top 11px</div><div class="line">    border-radius 3px</div><div class="line">    transition all .5s</div><div class="line">    transform-origin 50% 50% // è®¾ç½®å˜æ¢ä¸­å¿ƒç‚¹ï¼Œè¿™ä¸ªå¾ˆé‡è¦ï¼Œç›´æ¥å½±å“åˆ°åé¢çš„æ•ˆæœ</div><div class="line">  &amp;:before</div><div class="line">    transform translateY(-6px) // ç¬¬ä¸€ä¸ªæ¨ªæ†å‘ä¸Šåç§»ï¼Œè¿™é‡Œä½¿ç”¨transformè€Œä¸ä½¿ç”¨topå±æ€§æ˜¯ä¸ºäº†æ–¹ä¾¿åé¢çš„ä½¿ç”¨</div><div class="line">  &amp;:after</div><div class="line">    box-shadow 0 6px 0 0 #fff</div><div class="line">  &amp;:focus:before // é€šè¿‡focusè·å–ç„¦ç‚¹ï¼Œæ¥è§¦å‘èµ·ä¼ªå…ƒç´ çš„å˜åŒ–</div><div class="line">    transform rotateZ(45deg) translateY(0)</div><div class="line">  &amp;:focus:after</div><div class="line">    box-shadow 0 0 0 0 #fff</div><div class="line">    transform rotateZ(135deg) translateY(0)</div></pre></td></tr></table></figure><br><br>### è¿™ä¸ªæ˜¯å¼€å…³çš„æ•ˆæœ<br>æ•ˆæœæ˜¯è¿™æ ·çš„ï¼ˆduang!duang!daung!ï¼‰<br><img src="http://upload-images.jianshu.io/upload_images/2005796-094b4f13a9f7237d.gif?imageMogr2/auto-orient/strip" alt="switch button"><br><br><iframe height="265" scrolling="no" title="switch button" src="//codepen.io/leenty/embed/jVMmjz/?height=265&theme-id=0&default-tab=css,result&embed-version=2" frameborder="no" allowtransparency="true" allowfullscreen="true" style="width: 100%;">See the Pen <a href="http://codepen.io/leenty/pen/jVMmjz/" target="_blank" rel="external">switch button</a> by leenty (<a href="http://codepen.io/leenty" target="_blank" rel="external">@leenty</a>) on <a href="http://codepen.io" target="_blank" rel="external">CodePen</a>.<br></iframe>

<p><a href="http://codepen.io/leenty/pen/jVMmjz/" target="_blank" rel="external">è¿™é‡Œæ˜¯switch buttonæ¼”ç¤ºåœ°å€</a></p>
<p>å¼€å…³æ•ˆæœåˆæ¯”ä¹‹å‰é‚£ä¸ªå¤æ‚ï¼Œswitchçš„åŸç†å…¶å®å°±æ˜¯checkboxï¼Œ<br>å› ä¸ºinputæ˜¯å•æ ‡ç­¾ï¼Œæ‰€ä»¥æ— æ³•ä½¿ç”¨ä¼ªå…ƒç´ ï¼Œè¿™é‡Œå°±ç”¨åˆ°äº†label</p>
<p>æ ¸å¿ƒä½¿ç”¨</p>
<ul>
<li>å±æ€§ï¼š<code>transform</code>, <code>background-size</code>, <code>border-radius</code>, <code>border-width</code>, <code>transition</code>, <code>cubic-bezier</code></li>
<li>æ ‡ç­¾ï¼š<code>label</code></li>
<li>ä¼ªå…ƒç´ ï¼š<code>:before</code>, <code>:after</code></li>
</ul>
<p>ä»£ç å¦‚ä¸‹ï¼š<br>html<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">input(id=<span class="string">"switch"</span>,type=<span class="string">"checkbox"</span>).b-switchBtn</div><div class="line">label(<span class="keyword">for</span>=<span class="string">"switch"</span>).b-switchLabel</div><div class="line"><span class="comment">// labelæ ‡ç­¾åˆ©ç”¨forå±æ€§ä¸ç›¸åº”idçš„inputæ ‡ç­¾ç»‘å®šï¼Œä»è€Œè¾¾åˆ°ç‚¹å‡»labelå°±æ˜¯ç‚¹å‡»inputçš„æ•ˆæœ</span></div></pre></td></tr></table></figure></p>
<p>css<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line">button,</div><div class="line">input</div><div class="line">  border none</div><div class="line">  outline none</div><div class="line">  box-shadow none</div><div class="line">  background none</div><div class="line">  color currentColor</div><div class="line">  padding 0</div><div class="line">  cursor pointer</div><div class="line">  </div><div class="line">.b-switchLabel</div><div class="line">  position relative</div><div class="line">  display inline-block</div><div class="line">  width 60px</div><div class="line">  height 25px</div><div class="line">  input</div><div class="line">    display none</div><div class="line">  &amp;:before, // before ä½œä¸ºç™½æ¡</div><div class="line">  &amp;:after // after ä½œä¸ºæ°´æ»´çŠ¶å¼€å…³</div><div class="line">    content ' '</div><div class="line">    display block</div><div class="line">    position absolute</div><div class="line">  &amp;:before</div><div class="line">    width 100%</div><div class="line">    height 4px</div><div class="line">    background-color #fff</div><div class="line">    left 0</div><div class="line">    top 50%</div><div class="line">    border-radius 5px</div><div class="line">    transform translateY(-50%)</div><div class="line">  &amp;:after</div><div class="line">    background-image url('http://upload-images.jianshu.io/upload_images/2005796-fcc62a13bd69f679.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240')</div><div class="line">    // å› ä¸ºcssä¸å¥½å†™å‡ºæ¼‚äº®çš„æ°´æ»´æ•ˆæœï¼Œæ‰€ä»¥è¿™é‡Œå–å·§ç”¨äº†å›¾ç‰‡</div><div class="line">    background-size cover // åˆ©ç”¨è¿™ä¸ªå±æ€§ç¼©æ”¾åŸæ¥å¤ªå¤§çš„å›¾ç‰‡</div><div class="line">    height 25px</div><div class="line">    width 25px</div><div class="line">    left 23%</div><div class="line">    top 51%</div><div class="line">    border-radius 25px</div><div class="line">    transform-origin center center // è€å¥—è·¯ï¼Œå®šä¸‹å˜æ¢ä¸­å¿ƒç‚¹</div><div class="line">    transform translate(-50%, -50%) // çŸ«æ­£leftå’Œtopçš„åç§»</div><div class="line">    background-clip border-box // åˆ©ç”¨border-boxå±æ€§å€¼æ¥ä½¿èƒŒæ™¯å›¾ç‰‡åœ¨borderä¸Šä¹Ÿèƒ½æ˜¾ç¤º</div><div class="line">    background-position 50% 50%</div><div class="line">    border-style solid</div><div class="line">    border-color transparent // è®¾ç½®é€æ˜borderæœ‰åŠ©äºèƒŒæ™¯çš„æ˜¾ç¤º</div><div class="line">    border-width 0 3px 0 0</div><div class="line">    transition all .5s cubic-bezier(0.4, -0.95, 0.4, 1.8) // è®¾ç½®è´å¡å°”æ›²çº¿ä»¥è¾¾åˆ°Duangçš„æ•ˆæœ</div><div class="line">.b-switchBtn</div><div class="line">  display none</div><div class="line">  &amp;:checked~.b-switchLabel // è®¾ç½®å¼€å…³åœ¨è¢«é€‰ä¸­æ—¶æ”¹å˜çŠ¶æ€ï¼Œé…åˆtransitionå°±åŠ¨äº†èµ·æ¥</div><div class="line">    &amp;:after</div><div class="line">      left 78%</div><div class="line">      border-width 0 0 0 3px</div></pre></td></tr></table></figure></p>
<p>æœ‰ç–‘é—®çš„æˆ–è€…æœ‰å»ºè®®çš„å¯ä»¥åœ¨ä¸‹æ–¹ç•™è¨€</p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/11/16/interesting_button_by_css/" class="archive-article-date">
  	<time datetime="2016-11-16T13:19:16.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-11-16</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/css/">css</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  


      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 leenty
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/",
		innerArchive: true
	}
</script>

<script src="/./main.js"></script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
      <li class="chose" data-hook="tools-section-all"><span class="text">å…¨éƒ¨</span><i class="icon-book"></i></li>
    
    
      <li data-hook="tools-section-tag"><span class="text">æ ‡ç­¾</span><i class="icon-price-tags"></i></li>
    
    
      <li data-hook="tools-section-friends"><span class="text">å‹é“¾</span><i class="icon-link"></i></li>
    
    
      <li data-hook="tools-section-me"><span class="text">æˆ‘</span><i class="icon-smile"></i></li>
    
  </ul>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all chose">
    	</section>
    

    
    	<section class="tools-section tools-section-tag">
    			<div class="widget tagcloud" id="js-tagcloud">
    				<a href="/tags/ES6/" style="font-size: 10px;">ES6</a> <a href="/tags/css/" style="font-size: 16.67px;">css</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/github/" style="font-size: 10px;">github</a> <a href="/tags/gulp/" style="font-size: 10px;">gulp</a> <a href="/tags/hexo/" style="font-size: 13.33px;">hexo</a> <a href="/tags/js/" style="font-size: 13.33px;">js</a> <a href="/tags/other/" style="font-size: 10px;">other</a> <a href="/tags/sublime/" style="font-size: 10px;">sublime</a> <a href="/tags/vim/" style="font-size: 10px;">vim</a> <a href="/tags/vue-router/" style="font-size: 16.67px;">vue-router</a> <a href="/tags/vuejs/" style="font-size: 20px;">vuejs</a> <a href="/tags/vuex/" style="font-size: 13.33px;">vuex</a>
    			</div>
    	</section>
    

    
    	<section class="tools-section tools-section-friends">
  		
  			<div class="friends-wrap" id="js-friends">
  			
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.leenty.com/">leentyåšå®¢åœ°å€</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="https://whqet.github.io/">whqetåšå®¢åœ°å€</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="https://shenyubin.github.io/">æ²ˆé›¨å½¬çš„åšå®¢</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://vue2.leenty.com">vue2.0 Demoåœ°å€</a>
  	        
  	        </div>
  		
    	</section>
    

    
    	<section class="tools-section tools-section-me">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">ä¸ä¼šæ£(xia)é¼“(gao)çš„å‰ç«¯ä¸æ˜¯å¥½å…¨æ ˆ</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>